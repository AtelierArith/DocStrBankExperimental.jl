```
update!(f, tree, state, data, target)
```

ツリーにデータを更新または追加するアルゴリズム。`router!` と `updater!` はユーザーが提供する関数です：

```
route!(tree, state, target)
```

挿入のためのノードに到達するまで、次の候補 `node` を返します。この関数は新しいノードを作成する可能性があることに注意してください。目的地に到達したことは、第二引数として渡されたのと同じノードを返すことで示されます。

```
f(tree, node, data)
```

目的地ノード `node` を更新します。通常、`data` は目的地ノードに存在するデータに何らかの形で追加されます。
