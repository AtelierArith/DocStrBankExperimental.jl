```
Db = bezier(D::GMTdataset; t=nothing, np::Int=0, pure=false, firstcurve=true) -> GMTdataset
```

---

```
mat = bezier(p::Matrix{<:Real}; t=nothing, np::Int=0, pure=false, firstcurve=true) -> Matrix{Float64}
```

---

```
mat = bezier(p1::Vector{T}, p2::Vector{T}, p3::Vector{T}, p4::Vector{T}; t=nothing, np::Int=0, pure=false) where {T <: Real}
```

---

制御点のセットからベジェ曲線を作成します。

与えられた制御点（ノット）のセットに対する三次ベジェ補間のための関数です。各制御点はN次元空間に存在できますが、2Dおよび3Dの場合のみテストされています。データは地理的または直交座標系のものである可能性があります。この関数のデフォルトは、制御点を通過する曲線を計算することです。`pure`を`true`に設定することで、最初と最後の制御点を通過する曲線を計算するように変更できます。

4つ以上の制御点が提供されると、最初の曲線（点1,2,3,4を使用して作成）、次の曲線（点2,3,4,5を使用して作成）を接続することによって曲線の合成を行います。この接続の方法は`firstcurve`引数によって制御されます。4つ以上の制御点がある場合、`pure`オプションは許可されません。

### 引数

  * `D`: 制御点の行列を持つ$GMTdataset$オブジェクト。この行列は2列（2D）または3列（3D）を持つことができます。`D`が地理データを表す場合、データをECEFに変換する中間ステップを使用して球面ベジェ曲線を作成し、3D曲線を計算し、その後再び地理座標に変換します。

---

  * `p::Matrix{<:Real}`: 少なくとも4つの制御点を持つ行列。地理データの可能性を除いて、`D`の場合と同じです。

---

  * `p1, p2, p3, p4`: 制御点のベクトル。2Dまたは3D（2つまたは3つの要素）である可能性があります。

---

### キーワード引数

  * `t`: ベジェ曲線が評価される$t$パラメータの値のベクトル。デフォルトでは0と1の間の101の等間隔の値で評価されますが、以下の`np`を参照してください。
  * `np`: ベジェ曲線が評価される$t$パラメータの値の数。デフォルトは101です。
  * `pure`: デフォルトでは制御点を通過する曲線を計算します。`pure`が`true`の場合、最初と最後の制御点を通過する曲線を計算し、他の2つはパスを制御するために使用されます。これが*純粋な*三次ベジェ曲線の動作です。
  * `firstcurve`: 制御点の数が4を超える場合にのみ適用され、異なる曲線がどのように接続されるかを設定します。`true`の場合、最初の曲線が優先されます。5つの制御点によって与えられた2つの曲線のケースを例にすると、最終的な曲線は最初の曲線（最初の4つの制御点で作成）と2番目の曲線（最後の4つの制御点で作成）を接続することによって得られます。しかし、これら2つの曲線は2番目、3番目、4番目の制御点を共有しているため、その部分は2番目の曲線から削除され、4番目から5番目の寄与のみが残ります。`firstcurve`が`false`の場合、逆のことが起こります。最初の曲線は最初から2番目の制御点までの部分のみを寄与します。

### 戻り値

  * `Db`: 入力が$GMTdataset$の場合、ベジェ曲線の座標を持つ$GMTdataset$オブジェクト。
  * `mat::Matrix{Float64}`: 入力が行列の場合、ベジェ曲線の座標の行列。

### 例

```julia
# 4つのノットを持つ球面ベジェ曲線
D = bezier(mat2ds([30. -15; 30 45; -30 45; -30 -15], proj4="geog"));

# 5つのノットを持つ合成球面ベジェ曲線と2番目の曲線の優先
D = bezier(mat2ds([30. -15; 30 45; -30 45; -30 -15; -20 -25], proj4="geog"), firstcurve=false);
```
