```
mphase(jd) -> k
```

### 目的

指定されたユリウス日付における月の照明された割合を返します。

### 引数

  * `jd`: ユリウスエフェメリス日付。

### 出力

月の円盤の照明された割合 $k$、$0 ≤ k ≤ 1$。 $k = 0$ は新月を示し、$k = 1$ は満月を示します。

### 方法

ジャン・ミューズの「天文アルゴリズム」第46章に基づくアルゴリズム（ウィルマン・ベル、リッチモンド）1991年。 `sunpos` と `moonpos` を使用して太陽と月の位置、および月の距離を取得します。次に、太陽から地球までの月の中心角（位相角）を計算し、照明された割合を決定するために使用します。

### 例

2018年1月の毎日について、1時間ごとのサンプリングで月の照明された割合をプロットします。プロットには [Plots.jl](https://github.com/JuliaPlots/Plots.jl/) を使用します。

```julia
using Dates
using Plots
points = DateTime(2018,01,01):Dates.Hour(1):DateTime(2018,01,31,23,59,59);
plot(points, mphase.(jdcnv.(points)))
```

このカレンダーの月には2回の満月があることに注意してください。この現象は [ブルームーン](https://en.wikipedia.org/wiki/Blue_moon) と呼ばれます。

### 注意事項

この関数のコードはIDL天文学ユーザーライブラリに基づいています。
