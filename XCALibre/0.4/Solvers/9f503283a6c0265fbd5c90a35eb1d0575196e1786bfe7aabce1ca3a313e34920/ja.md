```
function run!(
    model::Physics, config; 
    output=VTK(), pref=nothing, ncorrectors=0, inner_loops=0
    )

    # ここで内部関数がソルバーのディスパッチに使用されます
    return residuals
end
```

これはシミュレーションを開始するためのトップレベルAPI関数です。ユーザーが定義した`Physics`オブジェクトとしての`model`を使用して、適切なソルバーにディスパッチします。

# ディスパッチされた流れのソルバー

  * 定常非圧縮性（結合のためのSIMPLEアルゴリズム）
  * 過渡非圧縮性（結合のためのPISOアルゴリズム）
  * 定常弱圧縮性（結合のためのSIMPLEアルゴリズム）
  * 過渡弱圧縮性（結合のためのPISOアルゴリズム）

# 入力引数

  * `model` ユーザーによって定義された`Physics`モデルへの参照。
  * `config` ソルバー、スキーム、ランタイムおよびハードウェア構造の設定詳細を含むユーザーによって定義された構成構造。
  * `output` シミュレーション結果に使用される形式を`VTK()`または`OpenFOAM()`から選択します（デフォルト = `VTK()`）
  * `pref` 圧力を定義するBCがない場合の基準圧力値。非圧縮性ソルバーのみ（デフォルト = `nothing`）
  * `ncorrectors` 非直交性補正ループの数（デフォルト = `0`）
  * `inner_loops` PISOアルゴリズムに基づく過渡ソルバーで使用される内部ループの数（デフォルト = `0`）

# 出力

この関数は残差にアクセスするための`NamedTuple`を返します（例：`residuals.Ux`）。返された`residuals`タプル内で利用可能なフィールドは、使用されるソルバーによって異なります。たとえば、非圧縮性ソルバーの場合、x-運動量方程式の残差は`Ux`フィールドにアクセスすることで取得できます。すなわち、`residuals.Ux`です。どのフィールドが利用可能かを確認するには、各ディスパッチメソッドのリファレンスガイドを参照してください。

# 例

```julia
residuals = run!(model, config) 

# 圧力残差にアクセスするには

residuals.p 
```
