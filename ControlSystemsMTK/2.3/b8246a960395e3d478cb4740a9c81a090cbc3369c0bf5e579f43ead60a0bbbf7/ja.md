```
build_quadratic_cost_matrix(sys::ODESystem, inputs::Vector, costs::Vector{Pair}; kwargs...)
```

システム `sys` の状態または出力に対して、ペナルティを課す二次コスト行列（LQRまたはカルマンフィルタリング用）を組み立てます。これは、ペアのベクトル `costs` に基づいています。

この関数の動機は、ModelingToolkit が次のことを保証しないためです。

  * 簡略化後にどの状態が状態として選択されるか。
  * 状態の順序。

上記の2番目の問題、状態の順序は `reorder_states` を使用して回避できますが、最初の問題は単純な順序変更では解決できません。したがって、この関数はユーザーが選択した状態実現のコストの配列を受け入れ、MTK によって選択された状態実現に対して正しいコスト行列を組み立てます。これを行うために、関数は入力とコスト出力の間で線形化を行います。線形化は、MTK によって選択された実現の一部でない状態に属する行列のエントリを特定するために使用されます。

# 引数:

  * `sys`: 線形化されるシステム（簡略化されていない）。
  * `inputs`: LQR コントローラーの制御入力として考慮される変数のベクトル。
  * `costs`: ペアのベクトル。

```
