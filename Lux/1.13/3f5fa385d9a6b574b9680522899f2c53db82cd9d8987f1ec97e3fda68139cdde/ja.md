```
match_eltype(layer, ps, st, args...)
```

`args...`の要素型をレイヤーのパラメータと状態の要素型と「おそらく」一致させるためのヘルパー関数（下記参照）。これは、Luxレイヤー内の偶発的な型昇格を追跡するためのデバッグ目的で便利です。

# 拡張ヘルプ

## 設定による動作の制御

この関数の動作は、`eltype_mismatch_handling`設定によって制御されます。以下のオプションがサポートされています：

  * `"none"`: これはデフォルトの動作です。この場合、この関数は何もしない、すなわち単に`args...`を返します。
  * `"warn"`: このオプションは、`args...`の要素型がレイヤーのパラメータと状態の要素型と一致しない場合に警告を発行します。警告にはレイヤーと要素型の不一致に関する情報が含まれます。
  * `"convert"`: このオプションは`"warn"`と同じですが、`args...`の要素型をレイヤーのパラメータと状態の要素型に一致させるために変換も行います（以下のケースに対して）。
  * `"error"`: `"warn"`と同じですが、警告を発行する代わりにエラーをスローします。

!!! warning
    型不一致の警告は一度だけ表示されます。


## 要素型の変換

`"convert"`の場合、以下の変換のみが行われます：

| パラメータ/状態の要素型 | `args...`の要素型 | 変換先       |
|:------------ |:------------- |:--------- |
| `Float64`    | `Integer`     | `Float64` |
| `Float32`    | `Float64`     | `Float32` |
| `Float32`    | `Integer`     | `Float32` |
| `Float16`    | `Float64`     | `Float16` |
| `Float16`    | `Float32`     | `Float16` |
| `Float16`    | `Integer`     | `Float16` |

```
