```
apply_LSF(flux, wls, R; window_size=4)
```

フラックスベクトル `flux` と波長 `wls` を持つスペクトルにガウス線広がり関数を適用します。これは、合成に受け入れられる任意の形式（例えば、ペア `(λstart, λstop)`）で、定数スペクトル解像度（$R = \lambda/\Delta\lambda$、ここで $\Delta\lambda$ はLSFのFWHM）を持ちます。`window_size` 引数は、標準偏差で畳み込みカーネルをどれだけ外側に拡張するかを指定します。

データに最適に一致させるためには、波長範囲を比較する領域の外側に数個の $\Delta\lambda$ まで拡張する必要があります。

同じ波長で定義された多くのスペクトルを観測解像度に畳み込む場合、[`compute_LSF_matrix`](@ref) を使用すると、はるかに良いパフォーマンスが得られます。

# キーワード引数

  * `window_size` (デフォルト: 4): LSF幅（σ、HWHMではない）の単位で畳み込みカーネルをどれだけ外側に拡張するか
  * `renormalize_edge` (デフォルト: `true`): wl範囲の端でLSFを再正規化するかどうか。このことは、`synth_wls` が十分に大きい波長と小さい波長に拡張されている限り、重要ではありません。

!!! 警告       * これは素朴で遅い実装です。パフォーマンスが重要な場合は使用しないでください。       * 波長グリッドが局所的に線形でない場合、`apply_LSF` は奇妙な動作をします。これは、細かい波長グリッドで実行され、その後観測（またはその他の望ましい）グリッドにダウンサンプリングされることを意図しています。
