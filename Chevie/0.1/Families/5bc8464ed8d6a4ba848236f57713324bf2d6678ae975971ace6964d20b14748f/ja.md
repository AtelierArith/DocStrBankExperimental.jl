`drinfeld_double(g;lu=false,pivotal=nothing)`

有限群 `Γ` に対して、Lusztig は群代数の Drinfeld ダブルの表現環を記述するファミリー（フーリエ行列、フロベニウスの固有値のリスト）を関連付けており、適切な小さな群に対しては一様なキャラクターのファミリーを記述します。この構成の詳細は説明しませんが、`Γ` から Lusztig のフーリエ行列を構築する最終結果について説明します。

ファミリーの要素は、`Γ`-共役に基づいて取られたペア `(x,φ)` の集合 `𝓜 (Γ)` と一対一対応しています。ここで `x∈Γ` であり、`φ` は `C_Γ(x)` の不可約複素値キャラクターです。このペア `ρ=(x,φ)` に関連付けられるフロベニウスの固有値は次のように定義されます：$ω_ρ:=φ(x)/φ(1)$。Lusztig は次のように定義されるフーリエ行列 `S₀` を定義します：

$$
S₀_{ρ,ρ'}:=|C_Γ(x)⁻¹|∑_{ρ₁=(x₁,φ₁)}φ₁(x)φ(y₁)
$$

ここで、和は `ρ'` に `Γ`-共役なすべてのペア `ρ₁∈𝓜 (Γ)` にわたって、$y₁∈ C_Γ(x)$ であるものに対して取られます。この係数は、対応する一様キャラクターのスカラー積 $⟨ρ,ρ'⟩_{𝐆^F}$ をも表します。

$$
S₀_{ρ,ρ'}
$$

の式をよりよく理解する方法は、`Γ`-共役に基づいて取られたペア `(x,y)` によってインデックス付けされた複素ベクトル空間の別の基底を考えることです。これはメリン変換の基底と呼ばれ、次のように与えられます：

$$
(x,y)=∑_{φ∈ Irr(C_Γ(x))}φ(y)(x,φ)
$$

メリン変換の基底において、線形写像 `S₀` は `(x,y)↦(x⁻¹,y⁻¹)` で与えられ、線形変換 `T` は `ρ` を `ω_ρρ` に送ります。これは、$\begin{pmatrix}a&b\cr c&d\end{pmatrix}$ がメリン変換の基底に対して `(x,y)↦(xᵃyᵇ,xᶜyᵈ)` として作用する置換表現の特別なケースです。

有限還元群におけるフーリエ行列は、上記の行列 `S₀` によって与えられます。しかし、非有理的な Spetses では、メリン変換の基底において `(x,y)↦(y⁻¹,x)` で与えられる別の行列 `S` を使用します。同等に、$S_{ρ,ρ'}$ の式は、`χ₁` の複素共役がない点で $S₀_{ρ,ρ'}$ の式と異なります。したがって、行列 `S` は、`(x,φ)↦(x,φ)` に対応する置換行列で右に掛けられた `S₀` に等しくなります。行列 `S` の利点は、ペア `S,T` が融合データの公理を直接満たすことです（以下を参照）。また、行列 `S` は対称であり、`S₀` はエルミートです。

したがって、`drinfeld_double` の2つのバリアントがあります：

`drinfeld_double(g;lu=false)`

は、Lusztig のフーリエ行列 `S₀` を含むファミリーを返し、`(x,φ)↦(x,φ)` によって誘導されるインデックスの置換を含む追加フィールド '.perm' を持ち、`S` を回復することができ、さらにフィールド `:lusztig` が 'true' に設定されます。

`drinfeld_double(g)`

は、行列 `S` を持つファミリーを返し、`.lusztig` または `.perm` フィールドは持ちません。

返されるファミリーレコード 'f' には、次のフィールドも含まれています：

`:group`: 群 `Γ`。

`:charLabels`: ペア `(x,φ)` を記述するラベルのリストであり、したがってそれらがどの順序で取られるかも指定します。

`:fourierMat`: フーリエ行列（呼び出しに応じて行列 `S` または `S₀`）。

`:eigenvalues`: フロベニウスの固有値。

`:xy`:  commuting elements のペアの `Γ`-軌道の代表であるペア '[x,y]' のリスト。

`:mellinLabels`: ペア '[x,y]' を記述するラベルのリスト。

`:mellin`: 基底 `(x,φ)` とメリン変換の基底との間の基底変換行列であり、したがって |f.fourierMat^(f.mellin^-1)| は置換行列です（呼び出しに応じて `(x,y)↦(y⁻¹,x)` または `(x,y)↦(y⁻¹,x⁻¹)`）。

`:special`: 特殊要素のインデックスであり、これは `(x,φ)=(1,1)` です。

```julia-rep1
julia> drinfeld_double(coxsym(3)) # needs "using GAP"
Family(drinfeld_double(coxsym(3)),8)
Drinfeld double D(coxsym(3))
┌───────┬────────────────────────────────────────────────────┐
│label  │eigen                                               │
├───────┼────────────────────────────────────────────────────┤
│(1,1)  │    1  1//6  1//3 1//6 -1//2 -1//2  1//3  1//3  1//3│
│(1,X.2)│    1  1//3  2//3 1//3     .     . -1//3 -1//3 -1//3│
│(1,X.3)│    1  1//6  1//3 1//6  1//2  1//2  1//3  1//3  1//3│
│(21,1) │    1 -1//2     . 1//2  1//2 -1//2     .     .     .│
│(21,-1)│   -1 -1//2     . 1//2 -1//2  1//2     .     .     .│
│(3,1)  │    1  1//3 -1//3 1//3     .     .  2//3 -1//3 -1//3│
│(3,ζ₃) │   ζ₃  1//3 -1//3 1//3     .     . -1//3 -1//3  2//3│
│(3,ζ₃²)│  ζ₃²  1//3 -1//3 1//3     .     . -1//3  2//3 -1//3│
└───────┴────────────────────────────────────────────────────┘

julia> drinfeld_double(coxsym(3);lu=true)
Family(Ldrinfeld_double(coxsym(3)),8)
Lusztig′sDrinfeld double D(coxsym(3))
┌───────┬────────────────────────────────────────────────────┐
│label  │eigen                                               │
├───────┼────────────────────────────────────────────────────┤
│(1,1)  │    1  1//6  1//3 1//6 -1//2 -1//2  1//3  1//3  1//3│
│(1,X.2)│    1  1//3  2//3 1//3     .     . -1//3 -1//3 -1//3│
│(1,X.3)│    1  1//6  1//3 1//6  1//2  1//2  1//3  1//3  1//3│
│(21,1) │    1 -1//2     . 1//2  1//2 -1//2     .     .     .│
│(21,-1)│   -1 -1//2     . 1//2 -1//2  1//2     .     .     .│
│(3,1)  │    1  1//3 -1//3 1//3     .     .  2//3 -1//3 -1//3│
│(3,ζ₃) │   ζ₃  1//3 -1//3 1//3     .     . -1//3  2//3 -1//3│
│(3,ζ₃²)│  ζ₃²  1//3 -1//3 1//3     .     . -1//3 -1//3  2//3│
└───────┴────────────────────────────────────────────────────┘
```

キーワード `pivotal` は、ピボタル構造をピボタル要素と `g` の生成子に対するピボタルキャラクターの値のベクトルのタプルとして記述します。
