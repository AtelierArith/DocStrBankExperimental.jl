```
waveguide_evolution(tspan, psi0, H; fout)
```

時間依存シュレディンガー方程式を統合して状態を進化させるか、伝播子を計算します。

# 引数

  * `tspan`: 出力を表示する時間のポイントを指定するベクトル。
  * `psi0`: 初期状態ベクトルはケットのみである必要があります。
  * `H`: [`WaveguideOperator`](@ref) を含む演算子で、LazySum または LazyTensor を通じて。
  * `fout=nothing`: 指定された場合、この関数 `fout(t, psi)` は毎タイムステップで呼び出されます。例: `fout(t,psi) = expect(A,psi)` は、すべてのタイムステップで A の期待値を返します。 `fout = 1` の場合、状態 psi はすべてのタイムステップでベクトルとして返されます。 注意: 状態 `psi` は正規化されておらず、永続的ではありません！ ODE ソルバーによってまだ使用されているため、変更してはいけません。

# 戻り値

  * `fout=nothing` の場合、ソルバーの出力は最後のタイムステップでの状態 `ψ` になります。
  * `fout` が指定された場合、最後のタイムステップでの状態 `ψ` と `fout` の出力が与えられたタプルになります。 `fout` がタプルを返す場合、そのタプルはフラット化されます。
  * `fout = 1` の場合、すべてのタイムステップでの `ψ` が返されます。

# 例

  * `fout(t,psi) = (expect(A,psi),expect(B,psi))` はタプル (ψ, ⟨A(t)⟩,⟨B(t)⟩) を生成します。ここで `⟨A(t)⟩` は時間の関数としての `A` の期待値を持つベクトルです。
