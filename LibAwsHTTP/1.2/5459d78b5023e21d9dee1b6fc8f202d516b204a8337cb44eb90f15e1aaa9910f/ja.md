```
aws_websocket_convert_to_midchannel_handler(websocket)
```

ウェブソケットをミッドチャネルハンドラーに変換します。ウェブソケットはその公開APIを介して使用できなくなり、チャネル内の別のハンドラーになります。呼び出し元はおそらく右側にチャネルハンドラーをインストールします。これは、受信フレームの途中（「フレーム開始」と「フレーム完了」コールバックの間）で呼び出してはいけません。これはウェブソケットのスレッドから呼び出す必要があります。

成功した場合: - [`aws_websocket_release`](@ref)()を除いて、すべてのaws*websocket*x()関数への呼び出しは無視されます。 - ウェブソケットはもはや「受信フレーム」コールバックを呼び出しません。 - 下流ハンドラーによって書き込まれたaws*io*messagesは、バイナリデータフレームにラップされて上流に送信されます。データは送信中に分割/結合される場合があります。 - 上流ハンドラーから読み取られたaws*io*messagesは、バイナリデータフレームをスキャンします。これらのフレームのペイロードは下流に送信されます。ペイロードは送信中に分割/結合される場合があります。 - 受信したクローズフレームは自動的にチャネルシャットダウンを引き起こします。 - [`aws_websocket_release`](@ref)()はまだ呼び出す必要があり、そうしないとウェブソケットとそのチャネルは決してクリーンアップされません。 - ウェブソケットはチャネルシャットダウンが完了すると「接続シャットダウン」コールバックを呼び出し続けます。

失敗した場合、NULLが返され、ウェブソケットは変更されません。

### プロトタイプ

```c
int aws_websocket_convert_to_midchannel_handler(struct aws_websocket *websocket);
```
