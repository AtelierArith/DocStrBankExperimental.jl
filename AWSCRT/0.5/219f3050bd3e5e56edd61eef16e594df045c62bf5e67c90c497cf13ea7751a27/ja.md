```
subscribe(sf::ShadowFramework)
```

シャドウドキュメントのトピックにサブスクライブし、更新の処理を開始します。`sf`は常にシャドウドキュメントの読み書きの前にロックされます。リモートシャドウドキュメントが存在しない場合、ローカルシャドウドキュメントが使用されて作成されます。

シャドウドキュメントをブローカーの状態と同期させるために、`/get`トピックに初期メッセージを公開します。この同期が完了するまで待つ必要がある場合は、`wait_until_synced(sf)`を呼び出すことができます。

タスクとPUBLISHパケットのIDを返します。QoSはタスクが完了するタイミングを決定します：

  * QoS 0の場合、パケットが送信されるとすぐに完了します。
  * QoS 1の場合、PUBACKが受信されると完了します。
  * QoS 2の場合、PUBCOMPが受信されると完了します。

成功した場合、タスクには以下のメンバーを持つ辞書が含まれます：

  * `:packet_id (Int)`: 完了したPUBLISHパケットのID。

失敗した場合、タスクは例外をスローします。

MQTT接続またはネットワーク接続がない場合、タスクは永遠に待機する可能性があります。

PUBLISHパケットを送信できなかった場合はスローします。
