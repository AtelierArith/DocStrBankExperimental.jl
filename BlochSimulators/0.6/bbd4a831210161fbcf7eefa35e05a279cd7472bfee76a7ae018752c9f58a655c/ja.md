```
BlochSimulator{T}
```

すべてのシーケンスシミュレーターのサブタイプとなる抽象型です。パラメータ `T` は数値型（例： `Float64`、 `Float32`）であるべきで、シミュレーターに入力として使用される組織パラメータも同じ数値型である必要があります。慣例として、BlochSimulatorは空間エンコーディング勾配（すなわち、読み出しまたは位相エンコーディング勾配）を考慮せずにエコー時間での磁化をシミュレートするために使用されます。他の読み出し時間での磁化をシミュレートするには、空間エンコーディング勾配からの位相を含めるために `AbstractTrajectory` が必要です。

特定のパルスシーケンスのシミュレーターを作成するには：

1. `IsochromatSimulator` または `EPGSimulator` のいずれかのサブタイプである構造体を作成します。この構造体は、シミュレーションを実行するために必要なパラメータを保持します。
2. パルスシーケンスを実装する `simulate_magnetization!` メソッドを追加します。パフォーマンスとGPU互換性のために、`simulate_magnetization!` がヒープアロケーションを行わないようにしてください。 `pSSFP` および `FISP` シーケンスの例は `src/sequences` にあります。
3. シミュレート関数内で出力配列を割り当てるために使用される `output_eltype` および `output_size` メソッドを追加します。
4. [オプション] REPLでシーケンスをきれいに表示するためのメソッドを追加します。
5. [オプション] シーケンスの長さを簡単に短縮するための `getindex` メソッドを追加します。
6. [オプション] Matlabや他の何かからデータを受け取り、構造体を組み立てるコンストラクタを追加します。

**重要**

`simulate_magnetization!` 関数（提供されたシーケンスに基づいてディスパッチされる）は、型安定で非アロケーションであると想定されています。これは、`operators/epg.jl` および `operators/isochromat.jl` の関数を使用し、適切にパラメータ化されたシーケンス構造体を使用することで達成可能であるべきです。
