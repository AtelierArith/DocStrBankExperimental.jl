```
debang(f!::Function, ex=nothing)
```

ミューテーション関数を非ミューテーション形式に変換します。

`f!` は、結果を最初の引数に書き込む二引数のミューテーション関数でなければなりません。`debang` の結果は、結果を割り当てて返す単一引数の非ミューテーション関数 `f` です。概念的には、`f!(out, x)` は `f(x)` になります。

`out` の型、サイズ、形状が `x` と同じであれば、`f!` だけを提供するだけで十分です。`f` が呼ばれると、出力は `similar(x)` として割り当てられます。

`out` の型、サイズ、または形状が `x` と異なる場合、出力のための正しい型、サイズ、形状の例のインスタンスを `debang` の `ex` 引数として提供する必要があります。`f` が呼ばれると、出力は `similar(ex)` として割り当てられます。`ex` インスタンスは、`f` のレキシカルクロージャによって自動的に保持されます。

# 注意

`out` の型はコンパイル時に知られていますが、サイズと形状は通常ランタイムプロパティであり、型にエンコードされていません。たとえば、配列は型の一部として次元数を持っていますが、各次元の長さはインスタンスが作成されるときにのみランタイムで定義されます。これが `ex` 引数が必要な理由です。

# 語源

慣例として、ミューテーション関数は感嘆符、いわゆるバンでマークされています。この関数はバンを取り除きます。
