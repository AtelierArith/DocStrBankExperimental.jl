```
id = shmget(key, siz, flg)
```

は、System V IPCキー `key` に関連付けられたSystem V共有メモリセグメントの識別子を返します。`key` が `IPC.PRIVATE` の値を持つ場合、または `flg` にビット `IPC_CREAT` が設定されていて、`key` に対応する共有メモリセグメントが存在しない場合、新しいサイズ `siz`（バイト単位で、メモリページサイズ `IPC.PAGE_SIZE` の倍数に切り上げられる可能性があります）の共有メモリセグメントが作成されます。

引数 `flg` はフラグのビット単位の組み合わせです。最下位の9ビットは、所有者、グループ、および他のユーザーに付与される権限を指定します。これらのビットは、`chmod` のモード引数と同じ形式および意味を持ちます。ビット `IPC_CREAT` を設定すると、新しいセグメントを作成できます。このフラグが使用されない場合、`shmget` は `key` に関連付けられたセグメントを見つけ、ユーザーがそのセグメントにアクセスする権限を持っているかどうかを確認します。ビット `IPC_EXCL` は、`IPC_CREAT` に加えて設定することで、この呼び出しがセグメントを作成することを保証します。`IPC_EXCL` と `IPC_CREAT` の両方が設定されている場合、セグメントが既に存在する場合は呼び出しが失敗します。
