cmap: 知覚的に均一なカラーマップのライブラリ

これらのカラーマップのほとんどは、明度勾配の大きさが一定になるように設計されています。細かい空間周波数では、知覚的コントラストは*明度*の違いによって支配され、クロマと色相は相対的に重要ではありません。

```
Usage:  1:  map = cmap(I, keyword_params ...)
        2:  (map, name, desc) = cmap(I, keyword_params ..., returnname=true)
        3:  cmap(searchStr)
        4:  cmap()

Arguments for Usage 1 and 2:

            I - 生成するカラーマップを示す文字列ラベル、または
                検索するカラーマップ名または属性を指定する文字列。
                引数なしで 'cmap()' を入力すると、可能なカラーマップとその対応するラベルの
                完全なリストが得られます。

  labels:  "L1" - "L20"  線形マップ用
           "D1" - "D13"  発散マップ用
           "C1" - "C11"  循環マップ用
           "R1" - "R4"   虹マップ用
           "I1" - "I3"   等輝度マップ用

  色盲のためのマップ生成用ラベル:
           "CBL1"  - "CBL4" プロタノピックおよびデュタノピック視覚者用の線形マップ。
           "CBD1"  - "CBD2" プロタノピックおよびデュタノピック視覚者用の発散マップ。
           "CBC1"  - "CBC2" プロタノピックおよびデュタノピック視覚者用の循環マップ。
           "CBTL1" - "CBTL4" トリタノピック視覚者用の線形マップ。
           "CBTD1" - トリタノピック視覚者用の発散マップ。
           "CBTC1" - "CBTC2" トリタノピック視覚者用の循環マップ。

 一部のカラーマップには、便利さと可読性のために代替ラベルがあります。

   map = cmap("L1")  または map = cmap("grey")  は線形のグレーマップを生成します。
   cmap()  はすべてのカラーマップとラベルをリストします。

 可能なキーワードパラメータオプション:

    chromaK::Real - カラーマップのクロマ値に適用するスケーリング、
                    0 - 1。デフォルトは1で、設計通りの完全に飽和したカラーマップを
                    提供します。ただし、アプリケーションによっては
                    クロマ/彩度値が減少したカラーマップが必要な場合があります。
                    1より大きい値を使用することもできますが、ガマットクリッピングが
                    発生し、カラーマップにアーティファクトが生じる可能性があります。
           N::Int - カラーマップ内の値の数。デフォルトは256。
      shift::Real - カラーマップの長さNのうち、カラーマップが
                    循環的に回転される割合、負の値も可。(循環カラーマップにのみ
                    適用されるべきです！)。デフォルトは0。
    reverse::Bool - trueの場合、カラーマップを反転します。デフォルトはfalse。
diagnostics::Bool - trueの場合、さまざまな診断プロットを表示します。注意点として
                    診断プロットは、循環シフトや反転が適用される前のマップに対して
                    行われます。デフォルトはfalse。
 returnname::Bool - trueの場合、関数はカラーマップ、その
                    名前、およびその説明のタプルを返します
                    (カラーマップ、名前、説明)
                    デフォルト値はfalseで、カラーマップのみが返されます。

Returns:
          map - ColorTypes.RGBA{Float64,1} の配列で、rgbカラーマップを提供します。

     returnname=trueの場合、関数はさらに
         name - カラーマップの名目名を示す文字列
         desc - カラーマップの簡単な説明を示す文字列を返します。
```

Usage 3 and 4:  cmap(searchStr)

この関数が作成できるカラーマップの数が多いため、この使用オプションは、名前に'str'を含むすべてのカラーマップの番号をリストすることでいくらかの助けを提供します。通常、これは指定された属性を持つカラーマップを検索するために使用されます: "linear", "diverging", "rainbow", "cyclic", または "isoluminant" など。 'searchStr' が省略されると、すべてのカラーマップがリストされます。

```
   cmap()              # すべてのカラーマップをリストします
   cmap("diverging")   # すべての発散カラーマップをリストします
```

カラーマップのリストは、各カラーマップを作成してそのフルネームを決定する必要があるため、少し遅くなることがあります。

**カラーマップの使用:**

PyPlot:

```
> using PyPlot
> sr = sineramp();    # sineramp() カラーマップテスト画像を生成します。
> imshow(sr);         # matplotlibのデフォルトの 'jet' カラーマップで表示します。
                      # マップ内の知覚的なデッドスポットに注意してください。
> imshow(sr, cmap = ColorMap(cmap("L3"))); # cmap() ヒートカラーマップを適用します。
```

Plots:

```
> using Plots
> y=rand(100);
> Plots.scatter(y, zcolor=y, marker=ColorGradient(cmap("R3")));
```

単一チャンネル画像にカラーマップを適用して、従来のRGB画像を作成することもできます。これは、発散または循環カラーマップを使用する場合に推奨されます。データ値が色にマッピングされる際に適切に尊重されることを保証できます。

```
  テスト画像にL4ヒートカラーマップを適用します
> rgbimg = applycolourmap(sr, cmap("L4"));

  テスト画像に発散カラーマップを適用し、127を
  発散カラーマップの中心点に関連付けられた値として使用します
> rgbimg = applydivergingcolourmap(sr, cmap("D1"),127);

  circlesineramp() テスト画像に循環カラーマップを適用し、
  データサイクル長を2*piとして指定します。
> (cr,) = circlesineramp();   # 循環カラーマップテスト画像を生成します。
> rgbimg = applycycliccolourmap(cr, cmap("C1"), cyclelength=2*pi);

> ImageView.view(rgbimg)      # ImageViewで画像を表示します
> PyPlot.imshow(rgbimg)       # またはPyPlotで表示します
```

*警告* PyPlotとTkはあまり共存しないようです（Juliaがクラッシュする可能性があります！）。ImageViewとWinstonはTkを使用しているため、使用する画像表示関数に注意が必要です。

**カラーマップ命名規則:**

```
                    linear_kryw_5-100_c67_n256
                      /      /    |    \    \
  カラーマップ属性   /     |     \   カラーマップエントリの数
                           /      |      \
     名目の色相を示す文字列    |      カラーマップの平均クロマ
                           |
                              明度値の範囲
```

さらに、カラーマップの名前には循環シフト情報が付加される場合があり、反転していることを示すフラグが付いている場合もあります。

```
              cyclic_wrwbw_90-40_c42_n256_s25_r
                                          /    \
                                         /   マップが反転していることを示します。
                                        /
                  カラーマップの長さのパーセンテージ
                  マップが回転された割合。
```

  * 属性は: 線形、発散、循環、虹、または等輝度である可能性があります。カラーマップは 複数の属性を持つことができます。たとえば、発散-線形または循環-等輝度です。
  * 明度値は0から100の範囲で変動します。線形カラーマップの場合、2つの 明度値はマップ内の最初と最後の明度値を示します。発散カラーマップの場合、2番目の値は カラーマップの中心点の明度値を示します（発散-線形カラーマップでない限り）。 循環および虹カラーマップの場合、2つの値は最小および最大の明度値を示します。 等輝度カラーマップは1つの明度値のみを持ちます。
  * 名目の色相シーケンスを示す文字列は、次のコードを使用します。

```
      r - 赤      g - 緑      b - 青
      c - シアン   m - マゼンタ    y - 黄
      o - オレンジ v - バイオレット
      k - 黒      w - 白      j - グレー
```

（'j'はグレーと韻を踏みます）。したがって、'heat'スタイルのカラーマップは文字列'kryw'で示されます。カラーマップが主に1つの色である場合、その色のフルネームを使用することができます。これらのコードは、色の明度/暗さや彩度に関係なく、カラーマップの色相を示すために主に使用されます。

  * 平均クロマ/彩度は、カラーマップの鮮やかさの指標です。値0はグレースケールに対応します。値50以上は鮮やかなカラーマップを示します。

独自のカラーマップを追加するのは簡単です。これを行うための手順は、コード内のコメントを参照してください。

参考文献: Peter Kovesi. 良いカラーマップ: それらを設計する方法。 [arXiv:1509.03700 [cs.GR] 2015](https://arXiv:1509.03700)

また、equalisecolourmap、viewlabspace、sineramp、circlesineramp、applycolourmap、applycycliccolourmap、applydivergingcolourmapも参照してください。
