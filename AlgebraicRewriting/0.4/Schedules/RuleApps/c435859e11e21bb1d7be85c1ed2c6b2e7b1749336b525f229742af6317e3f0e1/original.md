Has the semantics of applying the rule to *some* match that is found  (no guarantees on *which* one, which should be controlled by application  conditions). If rewrite occurs, exit mode 1, else exit mode 2.

The agent is related to the L and R patterns of the rule. This can be done  via a Span, or implicitly as a homomorphism into "I" of the rewrite  rule, and alternatively just from the shape of the agent alone (if it is  identical to I, take the id map, otherwise take the unique morphism into I).
