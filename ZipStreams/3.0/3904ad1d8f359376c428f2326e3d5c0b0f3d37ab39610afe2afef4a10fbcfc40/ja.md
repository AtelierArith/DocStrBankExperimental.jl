```
is_valid!([sink::IO,] source::ZipArchiveSource) -> Bool
```

アーカイブ `source` 内のファイルを、アーカイブの最後にある中央ディレクトリと照合して検証します。

関数名の感嘆符は、このメソッドが `source` から *すべての* 残りのデータを消費することをユーザーに警告するものです。また、読み取ったファイルヘッダーのファイル情報が中央ディレクトリの情報と一致しない場合は `false` を返します。このメソッドを呼び出す前にすでに消費されたファイルは検証されますが、それらのファイルのローカルヘッダーは、すでに消費されたローカルデータに対して検証されることはありません。

関数名の感嘆符は、関数が `ZipArchiveSource` からバイトを破壊的に読み取ることをユーザーに警告するものです。`sink` が提供されている場合、`source` からの残りの未読バイトが抽出され、残りのファイルのデータが連結されたバイトとして `sink` に書き込まれます。

データを `ZipArchiveSource` に書き込むことはできないため、`is_valid!` を繰り返し呼び出しても毎回同じ結果が返されますが、最初の呼び出し時にのみ `sink` にデータが抽出されます。

!!! warning "ディスクリプタを使用するファイル"
    `source` 内に格納されているファイルがローカルファイルヘッダーにファイルのサイズを格納するのではなくファイルディスクリプタを使用している場合、中央ディレクトリと照合するための長さを正しく記録するには、ファイルの最後まで読み取る必要があります。このようなファイルを最後まで読み取らないと、アーカイブに対して呼び出されたときに `is_valid!` が `false` を返すことになります。


関連情報として [`is_valid!(::ZipFileSource)`](@ref) も参照してください。
