```
Dispersion(; c = 5, m = 2, τ = 1, check_unique = true)
```

[`OutcomeSpace`](@ref)は、元々[Rostaghi2016](@citet)によって「分散エントロピー」を計算するために使用された分散パターンに基づいており、これは時系列の複雑さと不規則性を特徴づけます。

推奨されるパラメータ値は[Li2018](@cite)で、埋め込みのために`m ∈ [2, 3]`、`τ = 1`、およびガウス記号マッピングのために`c ∈ [3, 4, …, 8]`カテゴリです。

## 説明

単変量時系列$X = \{x_i\}_{i=1}^N$があると仮定します。まず、この時系列は、経験的平均`μ`と経験的標準偏差`σ`（どちらも$X$から決定される）を使用してガウスエンコーディング[`GaussianCDFEncoding`](@ref)でシンボル時系列$S$にエンコードされ、`c`は`Dispersion`に与えられます。

次に、$S$は、埋め込みラグ$\tau$を使用して$m$次元の時系列に埋め込まれ、合計で$N - (m - 1)\tau$の遅延ベクトル$z_i$、または「分散パターン」が得られます。各要素$z_i$は`c`の異なる値を取ることができ、各遅延ベクトルには`m`のエントリがあるため、`c^m`の可能な分散パターンがあります。この数は、分散エントロピーを計算する際の正規化に使用されます。

返される確率は、$S$に存在するユニークな分散パターンの頻度（すなわち、$S$の[`UniqueElements`](@ref)）です。

## 結果空間

`Dispersion`の結果空間は、ガウスCDFによってエンコードされたシンボル（整数）を要素とするユニークな遅延ベクトルです。すなわち、$S$のユニークな要素です。

## データ要件とパラメータ

入力は、ガウスマッピングが明確に定義されるために、1つ以上のユニークな要素を持っている必要があります。[Li2018](@citet)は、`x`が少なくとも1000データポイントを持つことを推奨しています。

`check_unique == true`（デフォルト）の場合、入力が1つ以上のユニークな値を持っていることが確認されます。`check_unique == false`で、入力が1つのユニークな要素しか持っていない場合、確率を計算しようとすると`InexactError`がスローされます。

!!! note "なぜ「分散パターン」？"
    各埋め込みベクトルは「分散パターン」と呼ばれます。なぜでしょうか？$m = 5$および$c = 3$の場合を考え、説明のために非常に不正確な用語を使用します：

    $$
    c = 3
    $$

    のとき、平均から遠く離れた値は1つのグループに、平均の周りに集まった値は1つのグループに、平均から遠く離れた値は3つ目のグループにあります。次に、埋め込みベクトル$[2, 2, 2, 2, 2]$は、近くに集まった値（平均に近い）で構成されているため、あまり広がっていない数のセットを表します（あまり分散していない）。しかし、埋め込みベクトル$[1, 1, 2, 3, 3]$は、平均の上と下の「外れ値」を表すカテゴリが表されているため、はるかに広がった数（より分散している）を表します。


高次元配列で使用できるこの推定器のバージョンについては、[`SpatialDispersion`](@ref)を参照してください。

## 実装

  * [`codify`](@ref)。順序が重要な入力（例：時系列）のエンコーディングに使用されます。
