```
imfilter([T], img, kernel, [border="replicate"], [alg]) --> imgfilt
imfilter([r], img, kernel, [border="replicate"], [alg]) --> imgfilt
imfilter(r, T, img, kernel, [border="replicate"], [alg]) --> imgfilt
```

1次元、2次元、または多次元配列 `img` を `kernel` でフィルタリングし、相関を計算します。

# 拡張ヘルプ

### `r` の選択肢

オプションで、[ComputationalResources](https://github.com/timholy/ComputationalResources.jl) パッケージで定義されたリソース `r` を渡すことで、異なる実装にディスパッチできます。

例えば：

```julia
imfilter(ArrayFireLibs(), img, kernel)
```

は、ArrayFireライブラリを使用してGPU上で計算を実行するようリクエストします。

### `T` の選択肢

オプションで、最初の引数として型 `T` を渡すことで、出力画像の要素型を制御できます。

### `img` の選択肢

画像を定義する1次元、2次元、または多次元配列を指定できます。

### `kernel` の選択肢

`kernel[0, 0,..]` パラメータはカーネルの原点（ゼロの変位）に対応します。`centered` を使用して原点を配列の中心に配置するか、OffsetArraysパッケージを使用して `kernel` のインデックスを手動で設定できます。例えば、ランダムな *centered* 3x3カーネルでフィルタリングするには、次のいずれかを使用できます：

```julia
kernel = centered(rand(3,3))
kernel = OffsetArray(rand(3,3), -1:1, -1:1)
```

`kernel` パラメータは配列として指定することも、フィルタを適用する各軸に沿ったフィルタのタプル `(filt1, filt2, ...)` として指定することもできます。カーネルが分離可能であることがわかっている場合、この形式は処理を高速化できます。これらはすべて画像自体と同じ次元性を持ち、フィルタリング軸を示す形状である必要があります。例えば、最初の次元をフィルタリングするための3x1フィルタと、2番目の次元をフィルタリングするための1x3フィルタです。2次元の場合、単一の行列として渡されたカーネルは分離可能性がチェックされます。このチェックを省略したい場合は、カーネルを単一要素のタプル `(kernel,)` として渡してください。

### `border` の選択肢

画像の端では、`border` を使用して、元の境界を超えて画像を外挿するために使用されるパディングを指定します。

#### `"replicate"` (デフォルト)

境界ピクセルは画像の境界を超えて拡張されます。

```plain
   ╭────┏━━━━━━┓────╮
   │aaaa┃abcdef┃ffff│
   ╰────┗━━━━━━┛────╯
```

#### `"circular"`

境界ピクセルはラップします。例えば、左の境界を超えてインデックスを付けると、右の境界から始まる値が返されます。

```plain

   ╭────┏━━━━━━┓────╮
   │cdef┃abcdef┃abcd│
   ╰────┗━━━━━━┛────╯

```

#### `"reflect"`

境界ピクセルはピクセル間の位置に対して反射します。つまり、ミラーリング時に境界ピクセルは省略されます。

```plain

   ╭────┏━━━━━━┓────╮
   │dcba┃abcdef┃fedc│
   ╰────┗━━━━━━┛────╯

```

#### `"symmetric"`

境界ピクセルはエッジ自体に対して反射します。

```plain

   ╭────┏━━━━━━┓────╮
   │edcb┃abcdef┃edcb│
   ╰────┗━━━━━━┛────╯

```

#### `Fill(m)`

境界ピクセルは指定された値 $m$ で埋められます。

```plain

   ╭────┏━━━━━━┓────╮
   │mmmm┃abcdef┃mmmm│
   ╰────┗━━━━━━┛────╯

```

#### `Inner()`

フィルタリングでエッジを破棄し、結果の内部のみを返すことを示します。

#### `NA()`

"NA"（利用不可）境界条件を使用してフィルタリングを選択します。これは、ぼかしフィルタのように正の重みのみを持つフィルタに最も適しています。

参照： [`Pad`](@ref), [`padarray`](@ref), [`Inner`](@ref), [`NA`](@ref) および [`NoPad`](@ref)

### `alg` の選択肢

`alg` パラメータを使用して特定のアルゴリズムを選択できます： `Algorithm.FIR()`（有限インパルス応答、別名従来のデジタルフィルタリング）または `Algorithm.FFT()`（フーリエベースのフィルタリング）。選択が指定されていない場合、画像とカーネルのサイズに基づいて良好なパフォーマンスを提供するように選択されます。あるいは、[`KernelFactors.IIRGaussian`](@ref) のようなカスタムフィルタタイプを使用することもできます。
