```
ExtendedTableOfContents(;hide_preamble = true, force_hide_enabled = hide_preamble, kwargs...)
```

# キーワード引数

  * `hide_preamble` -> true の場合、ノートブックの最初の見出しまでのすべてのセルが非表示になります（ノートブックが `hide-enabled` 状態のとき）
  * `force_hide_enabled` -> ToC を作成する際にノートブックの `hide-enabled` ステータスを true に設定します。このステータスは、CSS を介して非表示のセルを表示するかどうかを決定するために使用されます。
  * `kwargs` -> 残りの kwargs は、内部で ToC を生成するために使用される PlutoUI の `TableOfContents` に単純に渡されます。

# 説明

`PlutoUI` の `TableOfContents` を拡張し、以下の機能を追加します。

## 見出し/セルの非表示

ノートブックビューから見出しとすべての接続されたセルを非表示にするには、ExtendedTableOfContents を使用します。

  * 最初の見出しの前のすべてのセルは自動的にノートブックから非表示になります。
  * 非表示のセル/見出しは、ToC タイトルにマウスをホバーしたときに表示される *目* ボタンを押すことで表示できます。

      * 非表示のセルが表示されているとき、ToC の非表示の見出しは下線が引かれます。
  * ノートブック内の特定の見出しの非表示ステータスは、見出しの上にホバーしたときに表示される目ボタンを押すことで切り替えられます。

## ToC 内の見出しの折りたたみ

ToC の見出しは見出しレベルに基づいてグループ化され、さまざまなレベルのサブ見出しは、ToC の見出しの左側にホバーしたときに表示されるキャレット記号を使用して折りたたむことができます。

## ノートブックファイルに非表示/折りたたみ状態を保存

折りたたまれた/非表示の見出しの状態を保持することは、ノートブックとセルのメタデータを使用してノートブックファイルに書き込むことでサポートされており、Julia/Pluto の再読み込み時にも状態を維持できます。

  * 各見出しの現在の折りたたまれた/非表示の状態がノートブックファイルに反映されていない場合、ToC タイトルの左側にホバーしたときに保存アイコン/ボタンが表示されます。アイコンをクリックすると、現在の状態がノートブックファイルに保存されます。

## 見出し/セルの順序変更

`ExtendedTableOfContents` は、ノートブック内の各見出しによって識別されるセルグループの順序を再編成することを可能にします。

  * 各セルグループは、見出しを含むセルと、その下のすべてのセル、次の見出しまで（除外）によって識別されます。
  * ToC の見出しにマウスをホールドすると、見出しを移動する能力がトリガーされます。

      * 対象の見出しは破線の境界で囲まれます。
      * ToC 内でマウスを移動させると、ドラッグされた見出しが移動される位置を示す視覚的なセパレーターが表示されます。
      * 折りたたまれた見出しに少なくとも 300ms ホバーすると、折りたたまれた親内で見出しを移動できるように展開されます。
  * デフォルトでは、見出しは同じかそれ以下のレベルの見出しの下または上にのみ移動できます（H1 < H2 < H3...）。

      * ドラッグプロセス中にシフトを押し続けることで、レベルに関係なく他の見出しの前後に見出しを置くことができます。

# 使用例

# 状態操作

![State_Manipulation](https://user-images.githubusercontent.com/12846528/217245898-5166682d-b41d-4f1e-b71b-4d7f69c8f192.gif)

# セルの再配置

![Cell_Reordering](https://user-images.githubusercontent.com/12846528/217245256-58e4d537-9547-42ec-b1d8-2994b6bcaf51.gif)
