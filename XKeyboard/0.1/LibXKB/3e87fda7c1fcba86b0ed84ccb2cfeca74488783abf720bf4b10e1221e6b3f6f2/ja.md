```
xkb_state_key_get_utf8(state, key, buffer, size)
```

特定のキーを押したときに得られるUnicode/UTF-8文字列を、指定されたキーボード状態から取得します。

!!! warning
    渡されたバッファが小さすぎる場合、文字列は切り捨てられます（ただし、NULで終端されています）。


切り捨てが発生したかどうかは、戻り値と`buffer`のサイズを比較することで確認できます。これはsnprintf(3)関数と同様です。必要なサイズを見つけるために、`buffer`と`size`にNULLと0を安全に渡すことができます（NULバイトなしで）。

この関数は、大文字化および制御キーシム変換を行います。

xkb_state

\since 0.4.1

### パラメータ

  * `state`:[in] キーボード状態オブジェクト。
  * `key`:[in] キーのキーコード。
  * `buffer`:[out] 文字列を書き込むためのバッファ。
  * `size`:[in] バッファのサイズ。

### 戻り値

NULバイトを除いた文字列に必要なバイト数。書き込むものがない場合は、0を返します。
