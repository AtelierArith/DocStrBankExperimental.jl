```
PDWorkingMemory(t::PDVec)
```

演算子を含む操作（例えば、FCIQMC伝播、演算子-ベクトルの乗算、三項ドット積など）に対してスレッド処理とMPI分散を扱う作業メモリです。 [`PDVec`](@ref)を使用します。

作業メモリは、セグメントの二次元配列として構成されており、セグメント自体は`Dict`です（[`PDVec`](@ref)を参照）。この配列の行数は、すべてのMPIランクにわたるセグメントの数に等しく（全アドレス空間をカバー）、列数は現在のMPIランクにおけるセグメントの数に対応します（すなわち、列は現在のランクにローカルなアドレス空間の部分に対応します）。

この組織の目的は、ロックやアトミック操作を使用せずに並行してスパニングを可能にすることです。スパニングは、以下の操作のシーケンスを適用することによって行われます：

  * [`perform_spawns!`](@ref): [`PDVec`](@ref)の各セグメントは、演算子によって独立に乗算され、その結果は作業メモリの列に格納されます。
  * [`collect_local!`](@ref): 作業メモリの行が最初の列に合計されます。
  * [`synchronize_remote!`](@ref): 他のMPIランクに対応するセグメントが分配され、最初の列に転送されます。
  * [`move_and_compress!`](@ref): 結果が確率的に圧縮され、結果の[`PDVec`](@ref)に移動されます。

三引数のドット積で使用される場合、左側のベクトルの完全なコピーがすべてのランクの作業メモリの最初の列に具現化されます。
