```
ElasticDistortion <: Augmentor.ImageOperation
```

## 説明

与えられたグリッドサイズのランダム（均一）生成されたベクトルフィールドを使用して、指定された画像を歪めます。このフィールドは、適用される際に与えられた画像に伸ばされ、元の画像を画像とベクトルフィールドの線形補間を使用して新しい画像に変形します。

[`RandomDistortion`]とは対照的に、結果として得られるベクトルフィールドは、パラメータ`sigma`を持つガウスフィルターを使用して平滑化されます。これにより、より自然な歪みを持つ、より混沌としないベクトルフィールドが得られます。

## 使用法

```
ElasticDistortion(gridheight, gridwidth, scale, sigma, [iter=1], [border=false], [norm=true])

ElasticDistortion(gridheight, gridwidth, scale; [sigma=2], [iter=1], [border=false], [norm=true])

ElasticDistortion(gridheight, [gridwidth]; [scale=0.2], [sigma=2], [iter=1], [border=false], [norm=true])
```

## 引数

  * **`gridheight`** : 変位ベクトルフィールドのグリッドの高さ。これは、Y次元に沿ったランドマークとして使用される頂点の数を効果的に指定し、グリッドポイント間のすべての位置が補間されます。
  * **`gridwidth`** : 変位ベクトルフィールドのグリッドの幅。これは、Y次元に沿ったランドマークとして使用される頂点の数を効果的に指定し、グリッドポイント間のすべての位置が補間されます。
  * **`scale`** : オプション。フィールド内のすべての変位ベクトルに適用されるスケーリングファクター。これは、変形の「強さ」を効果的に定義します。このファクターには理論的な上限はありませんが、`0.01`と`1.0`の間の値が最も合理的な選択のようです。デフォルトは`0.2`です。
  * **`sigma`** : オプション。ガウスフィルターのシグマパラメータ。このパラメータは、平滑化の強さを効果的に制御します。デフォルトは`2`です。
  * **`iter`** : オプション。変位ベクトルフィールドに平滑化操作が適用される回数。`border = false`の場合に特に便利です。なぜなら、各パスの後に境界がゼロにリセットされるからです。したがって、変位は画像の中心に対してより攻撃的であるのに対し、画像の境界に対しては少し穏やかになります。デフォルトは`1`です。
  * **`border`** : オプション。境界も歪めるべきかどうかを指定します。`false`の場合、画像の境界は保持されます。これにより、最も外側の頂点が元の位置に固定され、操作は画像の内部コンテンツのみを歪めます。デフォルトは`false`です。
  * **`norm`** : オプション。`true`の場合、フィールドの変位ベクトルはフィールドのノルムによって正規化されます。これにより、`scale`ファクターはグリッドサイズに対してほぼ独立することになります。デフォルトは`true`です。

## 参照

[`augment`](@ref)

## 例

```julia
using Augmentor
img = testpattern()

# ピン留めされた境界で歪める
augment(img, ElasticDistortion(15, 15; scale = 0.1))

# すべてをより滑らかに歪める。
augment(img, ElasticDistortion(10, 10; sigma = 4, iter=3, border=true))
```
