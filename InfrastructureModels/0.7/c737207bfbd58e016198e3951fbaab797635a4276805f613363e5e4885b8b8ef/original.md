Checks if the given value is of a given type, if not tries to make it that type
