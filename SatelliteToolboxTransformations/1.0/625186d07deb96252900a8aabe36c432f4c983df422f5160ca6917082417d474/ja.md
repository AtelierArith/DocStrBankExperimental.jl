```
orb_eci_to_eci(orb::T, ECIo, ECIf[, jd_utc::Number][, eop]) where T<: Orbit -> T
orb_eci_to_eci(orb::T, ECIo, [jd_utco::Number, ]ECIf[, jd_utcf::Number][, eop]) where T<:Orbit -> T
```

軌道表現 `orb` を地球中心慣性 (ECI) 参照フレーム `ECIo` から別の ECI 参照フレーム `ECIf` に変換します。起点と目的地のフレームが *of date* フレームのうちの一つだけを含む場合、最初のシグネチャが使用され、ユリウス日 `jd_utc` [UTC] がこのフレームのエポックとなります。一方、起点と目的地のフレームが二つの *of date* フレーム`¹`を含む場合、例えば TOD => MOD の場合、二番目のシグネチャを使用し、ユリウス日 `jd_utco` [UTC] が起点フレームのエポック、ユリウス日 `jd_utcf` [UTC] が目的地フレームのエポックとなります。アルゴリズムは、ソースと目的地のフレームに応じて、地球の姿勢パラメータ (EOP) `eop` を必要とする場合があります。

!!! note
    起点と目的地の参照フレームを指定する方法を含む詳細については、**拡張ヘルプ**を参照してください。


`¹`: TEME は *of date* フレームです。

# 戻り値

  * `T`: `ECIf` 参照フレームに変換された軌道表現。

# 拡張ヘルプ

## 変換モデル

回転を計算するために使用されるモデルは、起点と目的地のフレームの選択に基づいて自動的に推測されます。**IAU-76/FK5 と IAU-2006/2010 フレームを混合することはサポートされていないことに注意してください。**

## サポートされている ECI 参照フレーム

起点 `ECIo` と目的地 `ECIf` の両方に対してサポートされている ECI フレームは次のとおりです。

  * `TEME()`: ECI は真の赤道平均春分点 (TEME) 参照フレームとして選択されます。
  * `TOD()`: ECI は真の日時 (TOD) として選択されます。
  * `MOD()`: ECI は平均日時 (MOD) として選択されます。
  * `J2000()`: ECI は J2000 参照フレームとして選択されます。
  * `GCRF()`: ECI は地心天体参照フレーム (GCRF) として選択されます。
  * `CIRS()`: ECEF は天体中間参照系 (CIRS) として選択されます。
  * `ERS()`: ECI は地球参照系 (ERS) として選択されます。
  * `MOD06()`: ECI は IAU-2006/2010 理論の定義に従って平均日時 (MOD) として選択されます。
  * `MJ2000()`: ECI は J2000 平均赤道フレーム (MJ2000) として選択されます。

!!! note
    フレーム `MOD()` と `MOD06()` は実質的に同じです。ただし、IAU-76/FK5 と IAU-2006/2010 のフレーム間の変換を混合する際には注意が必要であるため、どの理論が使用されているかを明確にするために異なる名前を選択しました。


## 地球の姿勢パラメータ (EOP)

フレーム間の変換は EOP データに依存する場合があります (参照: [`fetch_iers_eop`](@ref) および [`read_iers_eop`](@ref))。IAU-76/FK5 モデルが使用される場合、`eop` の型は [`EopIau1980`](@ref) でなければなりません。そうでない場合、IAU-2006/2010 モデルが使用される場合、`eop` の型は [`EopIau2000A`](@ref) でなければなりません。以下の表は、選択されたフレームに応じた EOP データの要件を示しています。

| モデル                  | ECIo     | ECIf     | EOP データ     | 関数シグネチャ |
|:-------------------- |:-------- |:-------- |:----------- |:------- |
| IAU-76/FK5           | `GCRF`   | `J2000`  | EOP IAU1980 | 最初      |
| IAU-76/FK5           | `GCRF`   | `MOD`    | EOP IAU1980 | 最初      |
| IAU-76/FK5           | `GCRF`   | `TOD`    | EOP IAU1980 | 最初      |
| IAU-76/FK5           | `GCRF`   | `TEME`   | EOP IAU1980 | 最初      |
| IAU-76/FK5           | `J2000`  | `GCRF`   | EOP IAU1980 | 最初      |
| IAU-76/FK5           | `J2000`  | `MOD`    | 不要          | 最初      |
| IAU-76/FK5           | `J2000`  | `TOD`    | 不要          | 最初      |
| IAU-76/FK5           | `J2000`  | `TEME`   | 不要          | 最初      |
| IAU-76/FK5           | `MOD`    | `GCRF`   | EOP IAU1980 | 最初      |
| IAU-76/FK5           | `MOD`    | `J2000`  | 不要          | 最初      |
| IAU-76/FK5           | `MOD`    | `TOD`    | 不要          | 二番目     |
| IAU-76/FK5           | `MOD`    | `TEME`   | 不要          | 二番目     |
| IAU-76/FK5           | `TOD`    | `GCRF`   | EOP IAU1980 | 最初      |
| IAU-76/FK5           | `TOD`    | `J2000`  | 不要          | 最初      |
| IAU-76/FK5           | `TOD`    | `MOD`    | 不要          | 二番目     |
| IAU-76/FK5           | `TOD`    | `TEME`   | 不要          | 二番目     |
| IAU-76/FK5           | `TEME`   | `GCRF`   | EOP IAU1980 | 最初      |
| IAU-76/FK5           | `TEME`   | `J2000`  | 不要          | 最初      |
| IAU-76/FK5           | `TEME`   | `MOD`    | 不要          | 二番目     |
| IAU-76/FK5           | `TEME`   | `TOD`    | 不要          | 二番目     |
| IAU-2006/2010 CIOベース | `GCRF`   | `CIRS`   | 不要`¹`       | 最初      |
| IAU-2006/2010 CIOベース | `CIRS`   | `CIRS`   | 不要`¹`       | 二番目     |
| IAU-2006/2010 春分点ベース | `GCRF`   | `MJ2000` | 不要          | 最初`²`   |
| IAU-2006/2010 春分点ベース | `GCRF`   | `MOD06`  | 不要          | 最初      |
| IAU-2006/2010 春分点ベース | `GCRF`   | `ERS`    | 不要`³`       | 最初      |
| IAU-2006/2010 春分点ベース | `MJ2000` | `GCRF`   | 不要          | 最初`²`   |
| IAU-2006/2010 春分点ベース | `MJ2000` | `MOD06`  | 不要          | 最初      |
| IAU-2006/2010 春分点ベース | `MJ2000` | `ERS`    | 不要`³`       | 最初      |
| IAU-2006/2010 春分点ベース | `MOD06`  | `GCRF`   | 不要          | 最初      |
| IAU-2006/2010 春分点ベース | `MOD06`  | `MJ2000` | 不要          | 最初      |
| IAU-2006/2010 春分点ベース | `MOD06`  | `ERS`    | 不要`³`       | 最初      |
| IAU-2006/2010 春分点ベース | `ERS`    | `GCRF`   | 不要`³`       | 最初      |
| IAU-2006/2010 春分点ベース | `ERS`    | `MJ2000` | 不要`³`       | 最初      |
| IAU-2006/2010 春分点ベース | `ERS`    | `MOD06`  | 不要`³`       | 最初      |

`¹`: この場合、GCRF に対する天体中間極 (CIP) の位置の自由コア揺動と時間依存効果を考慮する項は利用できず、精度が低下します。

`²`: GCRF と MJ2000 の間の変換は、バイアスと呼ばれる定数回転行列です。したがって、日付はそれを変更しません。ただし、このシグネチャは API の複雑さを避けるために保持されました。

`³`: この場合、自由コア揺動による傾斜と経度の揺動を修正する項は利用できず、精度が低下します。

!!! info
    この関数では、EOP 補正が提供されていない場合、MOD および TOD フレームは元の IAU-76/FK5 理論を考慮して計算されます。そうでない場合、補正されたフレームが使用されます。


# 例

```julia-repl
julia> orb = KeplerianElements(
    date_to_jd(2025, 1, 1),
    8000e3,
    0.015,
    28.5 |> deg2rad,
    100  |> deg2rad,
    200  |> deg2rad,
    45   |> deg2rad
)
KeplerianElements{Float64, Float64}:
           Epoch :    2.46068e6 (2025-01-01T00:00:00)
 Semi-major axis : 8000.0   km
    Eccentricity :    0.015
     Inclination :   28.5   °
            RAAN :  100.0   °
 Arg. of Perigee :  200.0   °
    True Anomaly :   45.0   °

julia> orb_eci_to_eci(orb, TOD(), J2000())
KeplerianElements{Float64, Float64}:
           Epoch :    2.46068e6 (2025-01-01T00:00:00)
 Semi-major axis : 8000.0    km
    Eccentricity :    0.015
     Inclination :   28.6376 °
            RAAN :   99.6403 °
 Arg. of Perigee :  200.045  °
    True Anomaly :   45.0    °
```
