```
read_config(filename; create_out_path = true, kwargs...) -> config::OrderedDict{Symbol,Any}

read_config(filenames; create_out_path = true, kwargs...) -> config::OrderedDict{Symbol,Any}

read_config(path; create_out_path = true, kwargs...) -> config::OrderedDict{Symbol, Any}
```

`filename`から設定ファイルを読み込み、必要に応じて設定を推測します。`path`が指定されている場合、`joinpath(path, "config.yml")`をチェックします。これは[`run_e4st`](@ref)によって返される`out_path`と一緒に使用できます。`config`がどのように使用されるかは[`read_data`](@ref)を参照してください。複数のファイル名が指定された場合（ベクター内、またはカンマで区切られた場合）、それらをマージし、競合がある場合は最後のファイルで見つかった設定を保持し、[`Modification`](@ref)のリストを追加します。適用可能な場合、デフォルトを推測するために[`summarize_config`](@ref)を使用します。指定された`kwargs`は、[`Modification`](@ref)のリストを除いて、設定に追加され、上書きされます。

設定ファイルは、必要なすべての情報を完全に指定するファイルです。ファイル名が相対パスとして指定されている場合、それらは設定ファイルの場所に対して相対的であると見なされます。

| name                        | required | default                                                     | description                                                                                                                                                                                                                                                                                                       |
|:--------------------------- |:-------- |:----------------------------------------------------------- |:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `base_out_path`             | true     | nothing                                                     | 希望する出力フォルダへのパス（相対または絶対）。このフォルダは必ずしも存在する必要はありません。存在しない場合、コードが自動的に作成します。E4STは`base_out_path`内にタイムスタンプ付きのフォルダを作成し、その新しいパスを`config[out_path]`に格納します。これは、プロセスが互いに上書きしないようにするためです。                                                                                                                                      |
| `gen_file`                  | true     | nothing                                                     | ジェネレータテーブルへのファイルパス（相対または絶対）。[`summarize_table(::Val{:gen})`](@ref)を参照してください。                                                                                                                                                                                                                                      |
| `bus_file`                  | true     | nothing                                                     | バステーブルへのファイルパス（相対または絶対）。[`summarize_table(::Val{:bus})`](@ref)を参照してください。                                                                                                                                                                                                                                          |
| `branch_file`               | true     | nothing                                                     | ブランチテーブルへのファイルパス（相対または絶対）。[`summarize_table(::Val{:branch})`](@ref)を参照してください。                                                                                                                                                                                                                                     |
| `hours_file`                | true     | nothing                                                     | 時間テーブルへのファイルパス（相対または絶対）。[`summarize_table(::Val{:hours})`](@ref)を参照してください。                                                                                                                                                                                                                                        |
| `nominal_load_file`         | true     | nothing                                                     | 時間表現へのファイルパス（相対または絶対）。[`summarize_table(::Val{:nominal_load})`](@ref)を参照してください。                                                                                                                                                                                                                                   |
| `years`                     | true     | nothing                                                     | シミュレーションで実行する年のリストを文字列として指定します。すなわち、`"y2030"`                                                                                                                                                                                                                                                                     |
| `optimizer`                 | true     | nothing                                                     | 線形プログラムを解くために使用する最適化タイプと属性。`type`フィールドは常に指定する必要があります（例：`type: HiGHS`）および設定したい各ソルバーオプション。E4STはBYOS（Bring Your Own Solver :smile:）ライブラリで、HiGHSとGurobiのデフォルト属性があります。他のソルバーについては、合理的な属性のセットを提供する必要があります。JuMP.jlで動作するソルバーの完全なリストについては、[こちら](https://jump.dev/JuMP.jl/stable/installation/#Supported-solvers)を参照してください。 |
| `mods`                      | false    | OrderedCollections.OrderedDict{Symbol, E4ST.Modification}() | E4STの実行方法を指定する`Modification`のリスト。`Modification`についての情報は、設定ファイルに追加する方法を参照してください。                                                                                                                                                                                                                                   |
| `year_gen_data`             | true     | nothing                                                     | ジェネレータテーブルのデータ年に対応する年の文字列（例：`y2016`）。                                                                                                                                                                                                                                                                             |
| `log_model_summary`         | false    | false                                                       | モデルの数値要約をログに記録するかどうか。デバッグに便利ですが、モデルが大きい場合は時間がかかることがあります。                                                                                                                                                                                                                                                          |
| `out_path`                  | false    | nothing                                                     | 出力先のパス。これが指定されていない場合、出力パスが[`make_out_path!`](@ref)によって作成されます。                                                                                                                                                                                                                                                     |
| `other_config_files`        | false    | nothing                                                     | 読み込む他の設定ファイルのリスト。親ファイルのオプションは尊重されます。                                                                                                                                                                                                                                                                              |
| `af_file`                   | false    | nothing                                                     | 利用可能性係数テーブルへのファイルパス（相対または絶対）。[`summarize_table(::Val{:af_table})`](@ref)を参照してください。                                                                                                                                                                                                                                |
| `cf_threshold`              | false    | 0.001                                                       | 最大容量係数がゼロと見なされるしきい値。これはソルバーの数値性能を助けます。たとえば、時間平均CFが0.00001の太陽光ユニットは、デフォルトの`cf_threshold`が1e-3であるため、動作しません。                                                                                                                                                                                                         |
| `iter`                      | false    | E4ST.RunOnce()                                              | シミュレーションがどのように反復するかを指定する[`Iterable`](@ref)オブジェクト。何も指定されていない場合、[`RunOnce`](@ref)を介して1回だけ実行するのがデフォルトです。`Iterable`タイプとすべてのキーワード引数を指定します。                                                                                                                                                                             |
| `load_shape_file`           | false    | nothing                                                     | 負荷要素の時間的形状を指定するためのファイル。[`summarize_table(::Val{:load_shape})`](@ref)を参照してください。                                                                                                                                                                                                                                    |
| `load_match_file`           | false    | nothing                                                     | セットのために一致させる年間負荷エネルギーを指定するためのファイル。[`summarize_table(::Val{:load_match})`](@ref)を参照してください。                                                                                                                                                                                                                         |
| `load_add_file`             | false    | nothing                                                     | 一致後の追加負荷エネルギーを指定するためのファイル。[`summarize_table(::Val{:load_add})`](@ref)を参照してください。                                                                                                                                                                                                                                   |
| `load_add_file`             | false    | nothing                                                     | 一致後の追加負荷エネルギーを指定するためのファイル。[`summarize_table(::Val{:load_add})`](@ref)を参照してください。                                                                                                                                                                                                                                   |
| `build_gen_file`            | false    | nothing                                                     | 建設可能なジェネレータを指定するためのファイル。[`summarize_table(::Val{:build_gen})`](@ref)を参照してください。                                                                                                                                                                                                                                    |
| `gentype_genfuel_file`      | false    | nothing                                                     | gentype-genfuelのペアリングを保存するためのファイル。[`summarize_table(::Val{:genfuel})`](@ref)を参照してください。                                                                                                                                                                                                                            |
| `summary_table_file`        | false    | nothing                                                     | [`summarize_table`](@ref)で指定されていない追加の列に関する情報を提供するためのファイル。                                                                                                                                                                                                                                                         |
| `save_data`                 | false    | true                                                        | 後で使用するために読み込んだデータをファイルに保存するかどうかを指定するブール値（例：将来のシミュレーションのために`data_file`を指定する）。                                                                                                                                                                                                                                      |
| `data_file`                 | false    | nothing                                                     | データファイルへのファイルパス（シリアライズされたJuliaオブジェクト）。これが指定されている場合、他のすべてのファイルからデータを読み込む代わりにこれを使用します。                                                                                                                                                                                                                              |
| `results_formulas_file`     | false    | nothing                                                     | 結果の数式ファイルへのファイルパス（相対または絶対）。[`summarize_table(::Val{:results_formulas})`](@ref)を参照してください。                                                                                                                                                                                                                          |
| `save_model_presolve`       | false    | false                                                       | 解決する前にモデルを保存するかどうかを指定するブール値。将来のシミュレーションのために`model_presolve_file`を指定することができます。デフォルトは`false`です。                                                                                                                                                                                                                     |
| `model_presolve_file`       | false    | nothing                                                     | 未解決のモデルへのファイルパス（相対または絶対）。これが指定されている場合、新しいモデルを作成する代わりにこれを使用します。                                                                                                                                                                                                                                                    |
| `save_data_parsed`          | false    | true                                                        | モデルを解決した後に生の結果を保存するかどうかを指定するブール値。将来[`process_results!(config)`](@ref)を呼び出す際に役立つ可能性があります。デフォルトは`true`です。                                                                                                                                                                                                           |
| `save_data_processed`       | false    | true                                                        | モデルを解決した後に処理された結果を保存するかどうかを指定するブール値。デフォルトは`true`です。                                                                                                                                                                                                                                                               |
| `objective_scalar`          | false    | 1000.0                                                      | ソルバーのために目的をどれだけスケールするかを指定します。ユーザーが作成した式や生の結果からのシャドウ価格には影響しません。これらはスケールバックされます。（デフォルトは1e6です）                                                                                                                                                                                                                       |
| `pgen_scalar`               | false    | 1000.0                                                      | cons*pgen*max制約でpgenをどれだけスケールするかを指定します。小さな利用可能性係数が存在する場合、数値的安定性に役立ちます。cf_thresholdも参照してください。                                                                                                                                                                                                                      |
| `pcap_retirement_threshold` | false    | 1.0e-6                                                      | 新しいジェネレータを保持するための最小`pcap`しきい値（MW）。デフォルトは1e-6（すなわち1W）です。`save_updated_gen_table`も参照してください。                                                                                                                                                                                                                         |
| `voll`                      | false    | 5000                                                        | 目的関数がカーテッド負荷のMWhごとにペナルティを課すための失われた負荷の仮定値です。                                                                                                                                                                                                                                                                       |
| `logging`                   | false    | true                                                        | E4STが[`get_out_path(config, "E4ST.log")`](@ref)にログを記録するかどうかを指定します。オプションには`true`、`false`、または`"debug"`が含まれます。詳細については[`start_logging!`](@ref)を参照してください。                                                                                                                                                              |
| `eor_leakage_rate`          | false    | 0.5                                                         | CO₂が強化油回収（EOR）で大気中に漏れ出すと仮定される割合（0から1の間）。                                                                                                                                                                                                                                                                          |
| `line_loss_rate`            | false    | 0.1                                                         | 発電から消費までの電気損失率を、0から1の比率で示します。デフォルトは0.1、すなわち10%のエネルギー損失です。                                                                                                                                                                                                                                                         |
| `line_loss_type`            | false    | plserv                                                      | 電力バランス方程式でペナルティが課される項。`"pflow"`または`"plserv"`のいずれかです。`"pflow"`を使用すると、他の場所からの電力の損失のみを考慮するため、より正確ですが、問題のサイズが大きくなり、解決時間が長くなります。デフォルトは`plserv`です。                                                                                                                                                                      |
| `distribution_cost`         | false    | 60                                                          | 電力の送電および配電のためのMWhあたりの仮定コスト。                                                                                                                                                                                                                                                                                       |
| `bio_pctco2e`               | false    | 0.273783186                                                 | 大気中に新たに考慮されるバイオマスのCO2排出の割合。0.225メトリックトン/MWh * (2204ショートトン/2000メトリックトン) / 0.904ショートトン/MWh                                                                                                                                                                                                                          |
| `ng_upstream_ch4_leakage`   | false    | 0.000434                                                    | 天然ガスメタン燃料の含有量。（ショートトン/MMBtu）                                                                                                                                                                                                                                                                                      |
| `coal_upstream_ch4_leakage` | false    | 0.000175                                                    | 石炭メタン燃料の含有量。（ショートトン/MMBtu）                                                                                                                                                                                                                                                                                        |
| `wacc`                      | false    | 0.0544                                                      | 仮定された加重平均資本コスト（割引率として使用）、現在はptcキャペックス調整の計算にのみ使用されていますが、年間ジェネレータコストを計算するために使用されるwacc/割引率と同じであるべきです。現在の値（0.0544）はATB 2022コストの年次化に使用されていました。                                                                                                                                                                         |
| `error_if_zero_af`          | false    | true                                                        | 年間を通じて利用可能性がゼロのジェネレータがある場合にエラーをスローするかどうか。`false`に設定すると、エラーメッセージではなく警告メッセージが表示されます。                                                                                                                                                                                                                                |
| `error_if_zero_cost`        | false    | true                                                        | 年間を通じてコストがゼロのジェネレータがある場合にエラーをスローするかどうか。`false`に設定すると、エラーメッセージではなく警告メッセージが表示されます。                                                                                                                                                                                                                                  |

## 例の設定ファイル

```yaml
base_out_path:    "../out/3bus"
gen_file:    "../data/3bus/gen.csv"
bus_file:    "../data/3bus/bus.csv"
branch_file: "../data/3bus/branch.csv"
hours_file:   "../data/3bus/hours.csv"
af_file:     "../data/3bus/af.csv"
nominal_load_file:     "../data/3bus/load.csv"
gentype_genfuel_file: "../data/3bus/gentype_genfuel.csv"
build_gen_file: "../data/3bus/build_gen.csv"
test_param1: "RIGHT" # これはconfig_otherによって上書きされるべきではありません
year_gen_data: y2020
other_config_files:
  - "config_other.yml"
years:
  - y2030
  - y2035
  - y2040
optimizer:
  type: "HiGHS" # 利用可能なオプションはここを参照してください: https://docs.juliahub.com/HiGHS/WFic5/0.3.1/
  dual_feasibility_tolerance: 1e-5
  log_file: HiGHS.log
  log_to_console: false
  solver: simplex # 大きな問題には"ipm"が好まれるかもしれませんが、問題があるためコンソールにログを記録します
mods:
  example_policy:
    type: "ExamplePolicyType"
    value: 0
    some_parameter:
      - "これは"
      - "文字列の配列を作成します。"
      - "クールですね？"
    other_parameter:
      name: "これはOrderedDictを作成します"
  other_mod:
    type: "OtherModificationType"
    value: 0
    custom_parameter: "こんにちは!!!"


```
