```
stl(Yv, np; robust=false, 
            nl=nextodd(np), 
            ns=10*length(Yv)+1,
            nt=nextodd(1.5*np/(1-1.5/ns)), 
            ni=robust ? 1 : 2,
            no=0,
            spm=false,
            qsmp=max(div(np,7),2))
```

時系列をトレンド、季節、および残差成分に分解します。「STLは、loessスムーザーの適用のシーケンスからなるシンプルな設計を持っています。このシンプルさは、手法の特性の分析を可能にし、非常に長い時系列や大量のトレンドおよび季節スムージングに対しても迅速な計算を可能にします。STLの他の特徴には、非常に小さなスムージングから非常に大きなスムージングまで、ほぼ連続的に範囲を持つ季節およびトレンドスムージングの量の指定、データの異常な挙動によって歪められないトレンドおよび季節成分のロバスト推定、時間サンプリング間隔の整数倍である季節成分の周期の指定、欠損値を持つ時系列を分解する能力が含まれます。」*

すべてのデフォルト値は、元の論文の推奨に従って選択されています。`ns`は、時系列の知識と診断方法に基づいて選択することが推奨されており、常に奇数であり、少なくとも7でなければなりません。元の論文ではデフォルト値は推奨されていませんが、ここで使用されているRのstl実装で使用されているのと同じデフォルト値が使用されています。`no`については、著者は5（「安全な値」）または10（「収束のほぼ確実性」）サイクル、またはロバスト性が必要な場合の収束基準を推奨しています。この場合、`robust`がtrueのとき、トレンドと季節性の収束が達成されると計算が停止します。`qsmp`については、著者はデフォルトを推奨していませんが、`div(np,7)`に近い値を使用しています。

# 引数

  * `np`: 季節性。
  * `robust`: ロバストstl。
  * `nl`: ローパスフィルターのスムージングパラメータ。
  * `ns`: 季節成分のスムージングパラメータ。
  * `nt`: トレンド分解のスムージングパラメータ。
  * `ni`: 内部ループサイクルの数。
  * `no`: 外部ループサイクルの数。
  * `spm`: 季節後スムージング。
  * `qsmp`: 季節後スムージングのためのLoess qウィンドウ。
  * `verbose`: trueの場合、季節およびトレンドの収束の更新を表示します。
  * `cth`: 季節およびトレンドの収束閾値。

# 戻り値

季節、トレンド、および残差成分を持つ`STL`オブジェクト。

  * STL: 「Loessに基づく季節、トレンド分解手法」ロバート・B・クリーブランド、ウィリアム・S・クリーブランド、ジャン・E・マクレイ、イルマ・テルペニング。公式統計ジャーナル第6巻第1号、1990年、pp. 3-73 (c) スウェーデン統計。

# 例

```julia-repl
julia> stl_co2 = stl(co2(),365; robust=true, spm=true)
[ Info: Cleveland et al. の論文で使用されたデータセット
[ Info: 収束達成 (< 0.01); 計算を停止しています...
STL{TimeSeries.TimeArray{Union{Missing, Float64},2,
Dates.Date,Array{Union{Missing, Float64},2}}}
(4609×3 TimeSeries.TimeArray{Union{Missing, Float64},2,
Dates.Date,Array{Union{Missing, Float64},2}} 1974-05-17 to 1986-12-31, 
"stl(Yn, np=365; nl=365, ns=46091, nt=549, ni=1, no=0, spm=true, qsmp=52)")
julia> plot(stl_co2)
```
