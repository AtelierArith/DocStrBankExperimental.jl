```
SSIM([kernel], [(Î±, Î², Î³)]; crop=false) <: FullReferenceIQI
assess(iqi::SSIM, img, ref)
assess_ssim(img, ref; crop=false)
```

æ§‹é€ çš„é¡žä¼¼æ€§ (SSIM) æŒ‡æ•°ã¯ã€æ§‹é€ æƒ…å ±ã®åŠ£åŒ–ã«åŸºã¥ãç”»åƒå“è³ªè©•ä¾¡æ‰‹æ³•ã§ã™ã€‚

SSIM æŒ‡æ•°ã¯ã€è¼åº¦ã€ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆã€æ§‹é€ ã®ä¸‰ã¤ã®æˆåˆ†ã§æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ï¼› `ssim = ð¿áµ… * ð¶áµ * ð‘†áµž` ã§ã‚ã‚Šã€ã“ã“ã§ `W := (Î±, Î², Î³)` ã¯å„æˆåˆ†ã®ç›¸å¯¾çš„é‡è¦æ€§ã‚’åˆ¶å¾¡ã—ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ `W = (1.0, 1.0, 1.0)` ã§ã™ã€‚

å®Ÿéš›ã«ã¯ã€å¹³å‡ç‰ˆã® SSIM ãŒä½¿ç”¨ã•ã‚Œã¾ã™ã€‚å„ãƒ”ã‚¯ã‚»ãƒ«ã§ã€SSIM ã¯ `kernel` ã«ã‚ˆã£ã¦é‡ã¿ä»˜ã‘ã•ã‚ŒãŸè¿‘å‚ã§å±€æ‰€çš„ã«è¨ˆç®—ã•ã‚Œã€ssim ãƒžãƒƒãƒ—ã‚’è¿”ã—ã¾ã™ï¼› `ssim` ã¯å®Ÿéš›ã«ã¯ `mean(ssim_map)` ã§ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ `kernel = KernelFactors.gaussian(1.5, 11)` ã§ã™ã€‚

!!! tip
    ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¯ [1] ã‹ã‚‰æ¥ã¦ã„ã¾ã™ã€‚ãƒ™ãƒ³ãƒãƒžãƒ¼ã‚¯ä½¿ç”¨ã®ãŸã‚ã«ã¯ã€ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’å¤‰æ›´ã—ãªã„ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚ãªãœãªã‚‰ã€ä»–ã®ã»ã¨ã‚“ã©ã® SSIM å®Ÿè£…ãŒåŒã˜è¨­å®šã«å¾“ã£ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ `crop` ã¯ã€ssim ãƒžãƒƒãƒ—ã®å¢ƒç•Œã‚’å‰Šé™¤ã™ã‚‹ã‹ã©ã†ã‹ã‚’åˆ¶å¾¡ã—ã¾ã™ï¼› [1] ã®çµæžœã‚’å†ç¾ã™ã‚‹ã«ã¯ã€`true` ã«è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚


# ä¾‹

`assess_ssim(img, ref)` ã¯ã€ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®ãƒ™ãƒ³ãƒãƒžãƒ¼ã‚¯ã‚’å–å¾—ã™ã‚‹ã®ã«ååˆ†ã§ã™ã€‚ã¾ãŸã€ã‚«ã‚¹ã‚¿ãƒ  SSIM ã‚’ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ã—ã€ãã‚Œã‚’ `assess` ã«æ¸¡ã™ã‹ã€é–¢æ•°ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚ä¾‹ãˆã°ï¼š

```julia
iqi = SSIM(KernelFactors.gaussian(2.5, 17), (1.0, 1.0, 2.0))
assess(iqi, img, ref)
iqi(img, ref) # ä¸¡æ–¹ã®ä½¿ç”¨æ³•ã¯åŒç­‰ã§ã™
```

!!! info
    SSIM ã¯ã‚°ãƒ¬ã‚¤ç”»åƒã®ã¿ã«å¯¾ã—ã¦å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚`RGB` ã‚„ä»–ã® `Color3` ç”»åƒãŒã©ã®ã‚ˆã†ã«å‡¦ç†ã•ã‚Œã‚‹ã‹ã¯ã€ç•°ãªã‚‹å®Ÿè£…ã«ã‚ˆã£ã¦ç•°ãªã‚‹å ´åˆãŒã‚ã‚Šã¾ã™ã€‚`RGB` ç”»åƒã®å ´åˆã€ãƒãƒ£ãƒ³ãƒãƒ«ã¯ ð¿ã€ð¶ã€ãŠã‚ˆã³ ð‘† ã‚’è¨ˆç®—ã™ã‚‹éš›ã«åˆ¥ã€…ã«å‡¦ç†ã•ã‚Œã¾ã™ã€‚ä¸€èˆ¬çš„ãª `Color3` ç”»åƒã¯ã€è¨ˆç®—ã®å‰ã«ã¾ãš `RGB` ã«å¤‰æ›ã•ã‚Œã¾ã™ã€‚


# å‚è€ƒæ–‡çŒ®

[1] Wang, Z., Bovik, A. C., Sheikh, H. R., & Simoncelli, E. P. (2004). Image quality assessment: from error visibility to structural similarity. *IEEE transactions on image processing*, 13(4), 600-612.

[2] Wang, Z., Bovik, A. C., Sheikh, H. R., & Simoncelli, E. P. (2003). The SSIM Index for Image Quality Assessment. Retrived May 30, 2019, from http://www.cns.nyu.edu/~lcv/ssim/
