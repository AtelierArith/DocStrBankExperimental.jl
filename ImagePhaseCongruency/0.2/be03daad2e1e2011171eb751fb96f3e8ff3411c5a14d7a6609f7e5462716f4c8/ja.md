位相を保持したダイナミックレンジ圧縮

異なるスケールでダイナミックレンジ圧縮された画像のシリーズを生成します。この関数は、エアロマグネティックやその他のポテンシャルフィールドグリッドのような高ダイナミックレンジ画像内の微妙な特徴を明らかにするために設計されています。この種のデータは、しばしばヒストグラム均等化と虹色カラーマップを組み合わせて提示されます。ヒストグラム均等化の問題は、特徴のコントラスト増幅が、そのデータ値がどれだけ一般的に発生するかに依存し、特徴自体の振幅には依存しないことです。

位相を保持したダイナミックレンジ圧縮は、これらの歪みなしに微妙な特徴を明らかにすることを可能にします。知覚的に重要な位相情報が保持され、信号内の異常のコントラスト増幅は純粋にその振幅の関数です。動作は次のようになります。まず、データにハイパスフィルターが適用され、これが分析の望ましいスケールを制御します。次に、データの2D解析信号が計算され、画像内の各点で局所的な位相と振幅が得られます。振幅は1を加えた後に対数を取ることで減衰され、信号は元の位相値を使用して再構築されます。

```
Usage: dimg = ppdrc(img, wavelength; clip, n)

Arguments:     img - 処理する画像。実数またはグレー要素の2D配列。
        wavelength - ハイパスバージョンの画像を形成する際に使用されるカットイン周波数のピクセル単位のスカラー値またはベクトル。画像のサイズの半分に相当する波長から始めて、50グリッド単位のような値まで範囲を試してみてください。
Keyword arguments:
              clip - 出力画像のヒストグラムをクリップする割合。非常に小さな値（例えば0.01または0.02）を使用するべきですが、これは有益です。デフォルトは0.01%です。
                 n - バターワースハイパスフィルターの次数。デフォルトは2です。

Returns:      dimg - ダイナミックレンジが減少した画像の配列。波長が1つだけ指定された場合、画像は直接返され、画像配列の1要素配列としてではありません。
```

重要: 画像のスケーリングは結果に影響を与えます。画像の値が1以下の場合、画像を数桁スケールアップすることが有用です。その理由は、周波数振幅が減衰されるときに、1を加えてから対数を取ることで、1未満の値に対して負の結果を得るのを避けるためです。したがって、`v`が小さい場合、`log(1 + v)`は`log(v)`の良い近似にはなりません。しかし、画像を例えば1000でスケールすると、`log(1 + 1000*v)`は`log(1000*v)`の合理的な近似になります。

配列`wavelength`を指定する際は、幾何級数で増加する波長を使用することをお勧めします。これを便利に行うために、関数`geoseries()`を使用できます。

50から800までの10ステップで幾何的に増加する波長のセットを生成するための`geoseries()`を使用した例。

```
   dimg = ppdrc(img, geoseries((50 800), 10))
```

関連情報: [`highpassmonogenic`](@ref), [`geoseries`](@ref)
