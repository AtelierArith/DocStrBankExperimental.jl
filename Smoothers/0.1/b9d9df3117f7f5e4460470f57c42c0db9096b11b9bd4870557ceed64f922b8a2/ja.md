パッケージ: Smoothers

```
stl(Yv, np; robust=false, 
            nl=nextodd(np), 
            ns=10*length(Yv)+1,
            nt=nextodd(1.5*np/(1-1.5/ns)), 
            ni=robust ? 1 : 2,
            no=0,
            spm=false,
            qsmp=max(div(np,7),2),
            cth = 0.01,
            verbose=false)
```

時系列をトレンド、季節、残差成分に分解します。

"STLは、loessスムーザーの適用のシーケンスから成るシンプルな設計を持っています。このシンプルさは、手法の特性の分析を可能にし、非常に長い時系列や大量のトレンドおよび季節スムージングに対しても迅速な計算を可能にします。STLの他の特徴には、非常に小さなスムージングから非常に大きなスムージングまで、ほぼ連続的に範囲を持つ季節およびトレンドスムージングの量の指定、データの異常な挙動によって歪められないトレンドおよび季節成分のロバスト推定、1より大きい時間サンプリング間隔の任意の整数倍の季節成分の周期の指定、欠損値を持つ時系列を分解する能力が含まれます。"*

すべてのデフォルト値は、推奨される場合に元の論文の推奨に従って選択されています。`ns`は、時系列の知識と診断方法に基づいて選択されることが推奨されますが、常に奇数であり、少なくとも7でなければなりません。

`no`について、著者は5（「安全な値」）または10（「収束のほぼ確実性」）サイクル、またはロバスト性が必要な場合の収束基準を推奨しています。この場合、`robust`がtrueのとき、計算はトレンドと季節性の収束が達成されると停止します。

`qsmp`について、著者はデフォルトを推奨していませんが、`np`の7で割った値に近い値を使用しています。

  * STL: A Seasonal, Trend Decomposition Procedure Based on Loess" Robert B. Cleveland, William S. Cleveland, Jean E. McRae, and Irma Terpenning. Journal of Official Statistics Vol. 6. No. 1, 1990, pp. 3-73 (c) Statistics Sweden.

# 引数

  * `Yv`: 時系列。
  * `np`: 季節性。
  * `robust`: ロバストstl。
  * `nl`: ローパスフィルターのスムージングパラメータ。
  * `ns`: 季節成分のスムージングパラメータ。
  * `nt`: トレンド分解のスムージングパラメータ。
  * `ni`: 内部ループサイクルの数。
  * `no`: 外部ループサイクルの数。
  * `spm`: 季節後スムージング。
  * `qsmp`: 季節後スムージングのためのloess qウィンドウ。
  * `cth`: 季節およびトレンドの収束閾値。
  * `verbose`: trueの場合、季節およびトレンドの収束の更新を表示します。

# 戻り値

Yvの季節、トレンド、残差値を持つ3列の行列。

# 例

```julia-repl
x = stl(rand(100),10)
100×3 Matrix{Float64}:
  0.0659717   0.512964  -0.3029
 -0.0822641   0.502129   0.0710054
  0.217383    0.491153   0.145449
[...]
```
