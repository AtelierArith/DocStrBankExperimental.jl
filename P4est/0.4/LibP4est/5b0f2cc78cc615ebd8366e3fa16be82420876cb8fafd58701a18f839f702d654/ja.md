```
p8est_search_all(p4est_, call_post, quadrant_fn, point_fn, points)
```

全体の森に対してトップダウン検索を実行します。

この関数は、p4est*search*localとp4est*search*partitionの機能を組み合わせたものであり、それらのドキュメントはほとんどの場合に適用されます。

再帰は、各木のルート四分木から始まり、(a) リモート四分木に出会い、それが1つのプロセッサのみをカバーしている場合、または (b) ローカルリーフ四分木に出会うまで進行します。言い換えれば、(a) 四分木が2つ以上のプロセッサに分割されている場合（呼び出しプロセッサの1つであるかどうかに関係なく）、または (b) 四分木がローカルプロセッサ上にあり、まだリーフに達していない場合に、再帰を四分木の子に進めます。

検索は1つ以上のポイントを追跡でき、これらは抽象的なプレースホルダーです。これらはコールバック関数を使用して通過した四分木に対して一致させられます。コールバック関数の結果は、再帰を早期に停止するために使用できます。ポイントの解釈方法はユーザーが決定し、私たちはそれを単に渡すだけです。

リモートの場合 (a) では、四分木がリーフでなくても再帰を終了することができることに注意してください。私たちはそれを知る手段を持っていません。それでも、このケースはポイントのプロセッサ所有権を決定するのに十分です。

!!! note
    これは非常に強力な関数であり、注意深く使用しないと遅くなる可能性があります。


!!! note
    このファイルの他の2つの検索関数と同様に、多くのポイントで1回呼び出す方が、各ポイントごとに1回呼び出すよりも一般的にはるかに速いです。複数のポイントを使用することで、よりコストのかかるポイントごとの終了に加えて、四分木ごとの再帰の終了も可能になります。


!!! note
    この関数は、パーティションまたはローカル四分木が関心の対象でない特別なケースに使用する場合は問題ありません。ただし、ローカル情報のみをクエリする場合は、p4est*search*localの方が速いと予想されます。なぜなら、それは特定のローカル最適化を利用しているからです。


### パラメータ

  * `p4est`:[in] 検索対象の森。
  * `call_post`:[in] trueの場合、四分木コールバックを事前および事後の両方で呼び出します。
  * `quadrant_fn`:[in] 入るたびに各四分木に対して1回実行されます。コールバックがfalseを返すと、この四分木とその子孫は検索から除外され、このブランチのポイントはさらにクエリされません。その**point**引数は常にNULLです。コールバックがNULLの場合は無視されます。
  * `point_fn`:[in] 検索の四分木に関連する各ポイントに対して1回実行されます。trueを返すと、そのブランチでポイントがさらに追跡され、そうでない場合は子供のクエリから破棄されます。**points**がNULLでない場合、このコールバックはNULLであってはなりません。**points**がNULLの場合、呼び出されません。
  * `points`:[in] ユーザー定義のポイント配列。ポイントを解釈することはせず、コールバックに渡すだけです。NULLの場合、**quadrant_fn**コールバックのみが実行されます。それがNULLの場合、関数全体は何もしません。NULLでない場合、検索中にそのメンバーに対して**point_fn**が呼び出されます。

### プロトタイプ

```c
void p8est_search_all (p8est_t * p4est, int call_post, p8est_search_all_t quadrant_fn, p8est_search_all_t point_fn, sc_array_t * points);
```
