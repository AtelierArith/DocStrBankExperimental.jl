```
p8est_mesh_t
```

この構造体は、2:1 バランスの森林に関する完全なメッシュ情報を含んでいます。これは、ローカルに関連する近隣、つまり、すべてのローカルに所有されている四分木と、隣接するゴースト四分木の1層とその所有者を格納します。

各ローカル四分木について、そのツリー番号は quad*to*tree に格納されます。quad*to*tree 配列はデフォルトでは NULL であり、p8est*mesh*new*ext を使用して有効にすることができます。各ゴースト四分木について、その所有者ランクは ghost*to*proc に格納されます。各レベルについて、ローカル四分木番号の配列が quad*level に格納されます。quad*level 配列はデフォルトでは NULL であり、p8est*mesh*new*ext を使用して有効にすることができます。

quad*to*quad リストは、各ローカル四分木の面に対して1つの値を格納します。この値は、ローカル四分木の場合は 0..local*num*quadrants-1 の範囲、またはゴースト四分木の場合は local*num*quadrants + (0..ghost*num*quadrants-1) の範囲にあります。

quad*to*face リストには、同じ数のエントリがあり、次のいずれかです。1. 値 v = 0..23 は、同じサイズの隣接四分木を示します。この値は v = r * 6 + nf としてデコードされ、nf = 0..5 は隣接四分木の接続面番号、r = 0..3 は隣接四分木の面の相対的な向きを示します。詳細は [`p8est_connectivity`](@ref).h を参照してください。2. 値 v = 24..119 は、ダブルサイズの隣接四分木を示します。この値は v = 24 + h * 24 + r * 6 + nf としてデコードされ、r と nf は上記の通り、h = 0..3 はサブ面の番号です。h は、四分木が接触する大きな隣接四分木のサブ面を示します（これは大きな隣接四分木の面のコーナーと同じです）。3. 値 v = -24..-1 は、4つのハーフサイズの隣接四分木を示します。この場合、対応する quad*to*quad インデックスは quad*to*half 配列を指し、各インデックスに対して4つの四分木番号が格納され、より小さい面の向きは 24 + v から導かれます。quad*to*half のエントリは、上記で説明した quad*to*quad 値と同様に、ローカルとゴースト四分木の間をエンコードします。quad*to*half の小さな隣接四分木は、これ、すなわち大きな四分木の面のコーナーの順序で格納されます。

森林の境界にある四分木は、自身とその面番号を認識します。

quad*to*edge リストは、面の隣接四分木ではないエッジの隣接四分木を格納します。木の内部には、サイズに応じて1つまたは2つのエッジの隣接四分木があります。木の間では、同じサイズまたは異なるサイズの隣接四分木が任意の数存在する可能性があります。同じ木の同じサイズの隣接四分木については、上記の quad*to*quad に記載されたのと同じ規則に従って、quad*to*edge にその数を記録します。この場合、隣接四分木の一致するエッジ番号は常に対角線上にある、すなわち、エッジ番号 ^ 3 です。

ハーフサイズおよびダブルサイズのすべての木間エッジの隣接四分木について、quad*to*edge の値は local*num*quadrants + local*num*ghosts + [0 .. local*num*edges - 1] です。ローカルおよびゴースト四分木の数を引いた後、edge*offset にインデックスされ、エッジの隣接四分木のグループをエンコードします。グループの各メンバーは、同じサイズまたはダブルサイズの四分木、または2つのハーフサイズの四分木のいずれかであり、これは edge*edge フィールドの値によって決まります。1. 値 e = 0..23 は、同じサイズの隣接四分木を示します。この値は e = r * 12 + ne としてエンコードされ、ne = 0..11 は隣接四分木の接続エッジ番号、r = 0..1 はエッジの反転を示します。2. 値 e = 24..71 は、ダブルサイズの隣接四分木を示します。この値は e = 24 + h * 24 + r * 12 + ne としてデコードされ、r と ne は上記の通り、h = 0..1 はサブエッジの番号です。h は、四分木が接触する大きな隣接四分木のサブエッジを示します（これは大きな隣接四分木のエッジのコーナーと同じです）。3. 値 e = -24..-1 は、2つのハーフサイズの隣接四分木を示します。これらは、edge*quad および edge*edge 配列の2つの連続したエントリによって表され、edge*edge の値は同じです。小さなエッジの向きは 24 + e から導かれます。edge*quad の小さな隣接四分木は、これ、すなわち大きな四分木のエッジのコーナーの順序で格納されます。

対角線上に隣接四分木がまったくないエッジには、値 -3 が割り当てられます。これは、必然的に木の境界であるドメインの境界でのみ発生します。面にぶら下がっているノードのエッジの隣接四分木には、値 -1 が割り当てられます。

quad*to*corner リストは、面またはエッジの隣接四分木ではないコーナーの隣接四分木を格納します。木の内部には、各コーナーに対して正確に1つの隣接四分木があります。この場合、そのインデックスは上記の quad*to*quad に記載された通りにエンコードされます。隣接四分木の一致するコーナー番号は常に対角線上にある、すなわち、コーナー番号 ^ 7 です。

木間の面の内部には、正確に1つのコーナーの隣接四分木があります。コーナーが木間のエッジまたはコーナーを越えている場合、コーナーの隣接四分木の数は任意の非負の数になる可能性があります。いずれの3つのケースでも、quad*to*corner の値は local*num*quadrants + local*num*ghosts + [0 .. local*num*corners - 1] です。ローカルおよびゴースト四分木の数を引いた後、corner*offset にインデックスされ、コーナーの隣接四分木のグループをエンコードします。各グループには、通常通り quad*to*quad にエンコードされた四分木番号が corner*quad に格納され、隣接四分木のコーナー番号が corner_corner に格納されます。

対角線上に隣接四分木がまったくないコーナーには、値 -3 が割り当てられます。これは、必然的に木の境界であるドメインの境界でのみ発生します。面およびエッジにぶら下がっているノードのコーナーの隣接四分木には、値 -1 が割り当てられます。

TODO: ブリック状の状況における木間の隣接関係（同じサイズの隣接四分木、対角線上のエッジ/コーナー）については、木の内部のエッジ/コーナーと同じエンコーディングを使用します。

| フィールド           | 注釈                                                                                                                                |
|:--------------- |:--------------------------------------------------------------------------------------------------------------------------------- |
| quad*to*tree    | 各ローカル四分木のツリーインデックス。デフォルトでは NULL ですが、p8est*mesh*new_ext によって有効にできます。                                                               |
| ghost*to*proc   | 各ゴースト四分木のプロセッサ                                                                                                                    |
| quad*to*quad    | 6つの面ごとの1つのインデックス                                                                                                                  |
| quad*to*face    | 向き/2:1 ステータスをエンコード                                                                                                                |
| quad*to*half    | ハーフサイズの隣接四分木を格納                                                                                                                   |
| quad_level      | レベルごとの四分木のリストを格納します。配列は 0..`P4EST_QMAXLEVEL` を含むインデックスでエントリがあり、ローカル四分木の ID の配列です。デフォルトでは NULL ですが、p8est*mesh*new_ext によって有効にできます。 |
| local*num*edges | 同じサイズでないおよび木の境界のエッジ                                                                                                               |
| quad*to*edge    | 各ローカル四分木のための12のインデックス                                                                                                             |
| edge_offset     | local*num*edges + 1 のエントリ                                                                                                         |
| edge_quad       | edge_offset がこれにインデックスされます                                                                                                        |
| edge_edge       | これにもインデックスされます（型 int8_t）                                                                                                          |
