```
C, kp, ki, kd, fig, CF = loopshapingPID(P, ω; Mt = 1.3, ϕt=75, form=:standard, doplot=false, lb=-10, ub=10, Tf = 1/1000ω, F = nothing)
```

PIDコントローラのパラメータを選択し、ループ伝達関数 $L = PC$ のナイキスト曲線が周波数 `ω` で、$T = PC / (1+PC)$ の大きさが `Mt` に等しい円に接するようにします。`ϕt` は実軸と接点との間の正の角度（度）を示します。

`Mt` と `ϕt` のデフォルト値は慣性のあるプロセスに対して良好な設計を提供するように選ばれており、より単純なプロセスには調整が必要な場合があります。

結果として得られるコントローラのゲインは、一般的に `ω` と `Mt` が増加するにつれて増加します。

# 引数:

  * `P`: SISOプラント。
  * `ω`: 仕様周波数。
  * `Mt`: 仕様周波数における補完感度関数の大きさ、$|T(iω)|$。
  * `ϕt`: 実軸と接点との間の正の角度（度）。
  * `doplot`: true の場合、gang of four とナイキストプロットが `fig` に返されます。
  * `lb`: `kd` の下限の log10。
  * `ub`: `kd` の上限の log10。
  * `Tf`: コントローラを厳密に適切にするための二次測定ノイズフィルタの時間定数、形式は `tf(1, [Tf^2, 2*Tf/sqrt(2), 1])` です。実用的なコントローラは通常、この時間定数をデフォルトよりも遅く設定します。例: `Tf = 1/100ω` または `Tf = 1/10ω`
  * `F`: デフォルトの二次フィルタの代わりに使用する事前設計されたフィルタ。

パラメータは、`form` によって選択された一般的な表現の1つとして返されることができます。オプションは次のとおりです。

  * `:standard` - $K_p(1 + 1/(T_i s) + T_ds)$
  * `:series` - $K_c(1 + 1/(τ_i s))(τ_d s + 1)$
  * `:parallel` - $K_p + K_i/s + K_d s$

[`loopshapingPI`](@ref)、[`pidplots`](@ref)、[`stabregionPID`](@ref)、および [`placePI`](@ref) も参照してください。

# 例:

```julia
P  = tf(1, [1,0,0]) # ダブルインテグレータ
Mt = 1.3  # 補完感度の最大大きさ
ω  = 1    # 仕様が成り立つ周波数
C, kp, ki, kd, fig, CF = loopshapingPID(P, ω; Mt, ϕt = 75, doplot=true)
```
