`stages(data::Union{Matrix{Float64},Function}, z::Vector{Float64}; q::Number=NaN, R::Number=NaN, S::Number=NaN, fig::Bool=true)`

`stages`は、平衡状態における液体と蒸気の分率およびそのエンタルピーのx-h-y-H行列、生成物とフィードの分率のベクトル、フィードの品質、カラムの上部でのリフラックス比を考慮して、カラムの上部から下部までの蒸留塔の理論的段数をポンション-サバリット法を用いて計算します。

フィードが飽和液体の場合、フィード品質q = 1、フィード品質はq = 1 - 1e-10にリセットされます。

デフォルトでは、fig = trueであり、`stages`は解の概略図をプロットします。fig = falseが指定された場合、プロットは表示されません。

`stages`は、Juliaの`PonchonSavarit`ツールボックスの主要な関数です。

関連情報: `refmin`, `qR2S`, `qS2R`, `RS2q`。

# 例

アセトンとメタノールの蒸留塔の理論的段数を、平衡状態における液体と蒸気の分率およびそのエンタルピーの関係を示す行列、蒸留液の組成が93%、フィードの組成が41%、ボトムの組成が7%、フィードが飽和液体であり、カラムの上部でのリフラックス比が最小リフラックス比より55%高い場合に計算し、解の概略図をプロットします:

```
data=[2.5e-4 3.235 1.675e-3 20.720; # エンタルピー (kcal/mol)
      0.05   2.666 0.267    20.520;
      0.1    2.527 0.418    20.340;
      0.15   2.459 0.517    20.160;
      0.2    2.422 0.579    20.000;
      0.3    2.384 0.665    19.640;
      0.4    2.358 0.729    19.310;
      0.5    2.338 0.779    18.970;
      0.6    2.320 0.825    18.650;
      0.7    2.302 0.87     18.310;
      0.8    2.284 0.915    17.980;
      0.9    2.266 0.958    17.680;
      1.     2.250 1.       17.390];
x=[0.93;0.41;0.07];
r,s=refmin(data,x)
N=stages(data,x,q=1,R=1.55*r)
```

酸素と窒素の蒸留塔の理論的段数を、平衡状態における液体と蒸気の分率およびそのエンタルピーの関係を示す行列、蒸留液の組成が88%、フィードの組成が44%、ボトムの組成が8%、フィード品質が55%、カラムの下部でのリフラックス比が最小リフラックス比より46%高い場合に計算し、解の概略図をプロットします:

```
data=[0.    0.420 0.    1.840; # エンタルピー (kcal/mmol)
      0.075 0.418 0.193 1.755;
      0.17  0.415 0.359 1.685;
      0.275 0.410 0.50  1.625;
      0.39  0.398 0.63  1.570;
      0.525 0.378 0.75  1.515;
      0.685 0.349 0.86  1.465;
      0.88  0.300 0.955 1.425;
      1.    0.263 1.    1.405];
x=[0.88;0.44;0.08];
r,s=refmin(data,x,q=0.55)
N=stages(data,x,q=0.55,S=1.46*s)
```

酸素と窒素の蒸留塔の理論的段数を、平衡状態における液体と蒸気の分率およびそのエンタルピーの関係を示す行列、蒸留液の組成が92%、フィードの組成が59%、ボトムの組成が9%、カラムの下部でのリフラックス比が1.9、カラムの上部でのリフラックス比が1.5の場合に計算します:

```
data=[0.    0.420 0.    1.840; # エンタルピー (kcal/mmol)
      0.075 0.418 0.193 1.755;
      0.17  0.415 0.359 1.685;
      0.275 0.410 0.50  1.625;
      0.39  0.398 0.63  1.570;
      0.525 0.378 0.75  1.515;
      0.685 0.349 0.86  1.465;
      0.88  0.300 0.955 1.425;
      1.    0.263 1.    1.405];
x=[0.92;0.59;0.09];
q=RS2q(data,x,1.5,1.9)
N=stages(data,x,R=1.5,S=1.9,fig=false)
```
