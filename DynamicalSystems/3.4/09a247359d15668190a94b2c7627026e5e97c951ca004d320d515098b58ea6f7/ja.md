```
interactive_poincaresos(cds, plane, idxs, complete; kwargs...)
```

連続力学系 `cds` のポアンカレ断面 (PSOS) を探索するためのインタラクティブなアプリケーションを起動します。`DynamicalSystems` が必要です。

`plane` は `DynamicalSystems.poincaresos` によって受け入れられる `Tuple` 型のみである必要があります。すなわち、`i` 番目の変数が値 `r` を越えるための `(i, r)` です。`idxs` は表示される変数の2つのインデックスを指定します。PSOSプロットは常に2D散布図であるためです。すなわち、`idxs = (1, 2)` はPSOSの1番目と2番目の変数をプロットします。したがって、`plane[1] ∉ idxs` が真である必要があります。

`complete` はインタラクティブな使用中に新しい初期状態を完成させる3引数の**関数**です。詳細は以下を参照してください。

関数は `figure, laststate` を返します。後者は最新の初期 `state` を含むオブザーバブルです。

## キーワード引数

  * `direction, rootkw` : `DynamicalSystems.poincaresos` と同様の使用法です。
  * `tfinal = (1000.0, 10.0^4)` : 総積分時間の値の範囲のための2要素のタプル（インタラクティブに選択されます）。
  * `color` : システムの初期条件の**関数**で、新しい点をプロットするための色を返します。色は `RGBf/RGBAf` でなければなりません。デフォルトではランダムな色が選ばれます。
  * `labels = ("u₁" , "u₂")` : 散布図のラベル。
  * `scatterkwargs = ()`: `scatter` に渡されるキーワードの名前付きタプル。
  * `diffeq = NamedTuple()` : 追加のキーワード引数はDiffEqの `init` に渡されます。

## インタラクション

アプリケーションは標準的な散布図で、システムのPSOSを表示します。最初はシステムの `u0` を使用します。2つのスライダーが総進化時間とマーカーポイントのサイズ（常にピクセル単位）を制御します。

散布図の範囲内をクリックすると、そのクリックは新しい初期条件に変換され、さらに進化し、そのPSOSが計算されて散布図にプロットされます。

あなたのクリックは、関数 `complete` を通じて完全な `D` 次元の初期条件に変換されます。関数の最初の2つの引数はPSOS上のクリックの位置です。3番目の引数はPSOSが定義されている変数の値です。より正確には、関数は次のように呼び出されます：

```julia
x, y = mouseclick; z = plane[2]
newstate = complete(x, y, z)
```

`complete` 関数は、条件の悪い `x, y, z` に対してエラーをスローする可能性があります。これはアプリケーションを壊すのではなく、適切に処理されます。この `newstate` は新しい点のための新しい色を取得する関数 `color` にも渡されます。
