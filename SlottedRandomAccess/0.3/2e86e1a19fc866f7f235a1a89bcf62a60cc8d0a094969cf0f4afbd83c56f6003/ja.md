```julia
struct MF_CRDSA{N, F} <: SlottedRandomAccess.FixedRepSlottedRAScheme{N}
```

*マルチ周波数競合解決多様性スロットALOHA* (MF-CRDSA) スキームを表す型で、レプリカの数 `N` を持ちます。

このRAスキームは、[この2017年のIEEE論文](https://doi.org/10.1109/TCOMM.2017.2696952) で導入されました。

このスキームは、レプリカの数とは異なる時間スロットの数をサポートできますが、元の論文では各時間スロットに1つのレプリカ（のみ）が送信されるスキームのみが実装されています。

!!! note
    [`PLR_SimulationParameters`](@ref) でフレームスロットの数を指定する際、フレーム内のスロットの総数 (`nslots`) は、時間スロットと周波数スロットの積であると仮定されます。

    したがって、例えば [`PLR_SimulationParameters`](@ref) に `nslots = 100` を設定し、`time_slots = 2` のMF-CRDSAスキームを使用する場合、周波数スロットの数は `50` であると仮定されます。


仮定される時間スロットの数と、それらをランダムに生成するために使用される関数は、以下に示す構造体のフィールドを通じて変更できます。

# フィールド

  * `n_time_slots::Int64`: このMF-CRDSAスキームの各RAフレーム内の時間スロットの数で、レプリカの数 `N` 以上の数でなければなりません。
  * `time_slots_function::Any`: この関数は、時間スロット（1から `time_slots` の間）を生成するために使用されます。引数を取らず、各レプリカの時間スロットを持つ `NTuple{N, Int}` を返す関数（または呼び出し可能なもの）である必要があります（重複なし）。

!!! note
    現在の実装では、各時間スロットに対して単一のレプリカのみが存在することを前提としていますので、`time_slots_function` は任意ですが、そうでない場合は潜在的に誤った結果が返されることになります。


# コンストラクタ

```
MF_CRDSA{N}()
```

デフォルトのコンストラクタで、`N` の時間スロット（つまり、レプリカごとに1つ）を仮定し、各時間スロットに1つのレプリカが送信されることを前提としています（周波数スロットをランダム化）。

```
MF_CRDSA{N}(n_time_slots::Int, time_slots_function)
```

MF-CRDSAスキームのためのより高度なコンストラクタで、レプリカの数とは異なる時間スロットの数と、各フレーム内の各ユーザーに使用する時間スロットをランダムに生成するために使用される関数を指定できます。

## 例

以下のコードは、2つのレプリカと3つの時間スロットを持つMF-CRDSAスキームを生成します。最初の時間スロットは常に最初のレプリカに使用され、2番目のレプリカは2番目または3番目のスロットのいずれかにランダムに送信されます。

```julia-repl
julia> scheme = MF_CRDSA{2}(3, () -> (1, rand(2:3)))
```

参照: [`CRDSA`](@ref)
