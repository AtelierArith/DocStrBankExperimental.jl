```
sim_with(args::Union{NamedTuple, Dict})
```

[High-Level Interface](@ref) は、典型的なマイクロ磁気シミュレーションを開始するためのものです。すべてのパラメータは `args` を使用して設定され、`NamedTuple` または `Dict` のいずれかである必要があります。

# キーワード

  * `mesh`: シミュレーションを開始するにはメッシュを提供する必要があります。メッシュは [`FDMesh`](@ref)、[`CubicMesh`](@ref)、または [`TriangularMesh`](@ref) である可能性があります。
  * `name`: シミュレーションの名前で、文字列として提供されます。
  * `task`: シミュレーションタスクの種類で、`"Relax"` または `"Dynamics"` のいずれかです。デフォルトは "Relax" です。
  * `driver`: ドライバーの名前で、"SD"、"LLG"、または "LLG_STT" である必要があります。デフォルトは "SD" です。
  * `alpha`: LLG 方程式におけるギルバート減衰パラメータで、数値として提供されます。
  * `beta`: スピン転送トルクを伴う LLG 方程式における非断熱強度（Zhang-Li モデル）で、数値として提供されます。
  * `gamma`: ジャイロ磁気比で、デフォルト値は 2.21e5 です。
  * `ux`, `uy`, `uz`: スピン転送トルク強度の成分です。
  * `ufun`: `u` の時間依存関数です。
  * `Ms`: 飽和磁化で、[`NumberOrArrayOrFunction`](@ref) である必要があります。デフォルトは `Ms=8e5` です。
  * `mu_s`: 磁気モーメントで、[`NumberOrArrayOrFunction`](@ref) である必要があります。デフォルトは `mu_s=2*mu_B` です。
  * `A` または `J`: 交換定数で、[`NumberOrArrayOrFunction`](@ref) である必要があります。
  * `D`: Dzyaloshinskii-Moriya 相互作用（DMI）定数で、[`NumberOrArrayOrFunction`](@ref) である必要があります。
  * `dmi_type`: DMI のタイプで、"bulk" または "interfacial" のいずれかです。
  * `Ku`: 異方性定数で、[`NumberOrArrayOrFunction`](@ref) である必要があります。
  * `axis`: 異方性軸で、タプルとして提供されます。例: `(0, 0, 1)`。
  * `Kc`: 立方体異方性定数で、[`NumberOrArrayOrFunction`](@ref) である必要があります。
  * `axis1`: 立方体異方性軸1で、タプルである必要があります。例: (1,0,0)
  * `axis2`: 立方体異方性軸2で、タプルである必要があります。例: (0,1,0)
  * `demag`: 磁化解除を含めるかどうか。これはブール値（`true` または `false`）である必要があります。デフォルトは `demag=false` です。
  * `H`: 外部磁場で、タプルまたは関数である必要があります。すなわち、[`TupleOrArrayOrFunction`](@ref) です。
  * `m0`: 初期磁化で、タプルまたは関数である必要があります。すなわち、[`TupleOrArrayOrFunction`](@ref) です。
  * `T`: 温度で、[`NumberOrArrayOrFunction`](@ref) である必要があります。
  * `shape`: 形状はサンプルのジオメトリを定義し、パラメータが設定されます。
  * `steps`: `Dynamics` タスクのためのシミュレーションステップの総数です。
  * `dt`: 各ステップの時間間隔で、したがって `Dynamics` タスクの総シミュレーション時間は `steps * dt` です。
  * `max_steps::Int`: `Relax` タスクのためにシミュレーションを実行する最大ステップ数。デフォルトは `10000` です。
  * `saver_item`: `SaverItem` インスタンスまたは `SaverItem` インスタンスのリスト。これらはシミュレーション中に追加の量を保存するために使用できるカスタムデータ保存ユーティリティです（例: ガイディングセンターや他の派生値）。`nothing` の場合、デフォルト以外の追加データは保存されません。
  * `call_back`: ユーザー定義の関数または `nothing`。提供された場合、この関数は各ステップで呼び出され、シミュレーション状態のリアルタイム検査や操作を可能にします。
  * `stopping_dmdt::Float64`: `LLG` および `SD` ドライバーのための主な停止条件。標準的なマイクロ磁気シミュレーションでは、典型的な値は `0.01` から `1` です。時間が厳密に定義されていない `SD` ドライバー モードでは、`γ` の因子が適用され、`LLG` ドライバーと比較可能になります。無次元単位を使用する原子モデルの場合、この因子を無効にするには `using_time_factor` を `false` に設定します。
  * `relax_data_interval::Int`: `Relax` タスク中にエネルギーや平均磁化などの全体データを保存するための間隔。負の値はデータ保存を無効にします（例: `relax_data_interval = -1` はリラクゼーションの最後にのみデータを保存します）。
  * `dynamic_data_save::Bool`: `Dynamics` タスク中にエネルギーや平均磁化などの全体データの保存を有効または無効にするブールフラグ。`true` に設定すると有効、`false` に設定すると無効になります。
  * `relax_m_interval::Int`: `Relax` タスク中に磁化データを保存するための間隔。負の値は磁化保存を無効にします。
  * `dynamic_m_interval::Int`: `Dynamics` タスク中に磁化データを保存するための間隔。負の値は磁化保存を無効にします。
  * `using_time_factor::Bool`: `LLG` モードとの比較のために `SD` モードで時間因子を適用するブールフラグ。デフォルトは `true` です。
  * `save_vtk::Bool`: 各タスクの終了後に磁化を vtk ファイルに保存するためのブールフラグ。デフォルトは `false` です。

#### 例

[High-Level Interface](@ref) の例を参照してください。

#### 注意事項

  * **サフィックスの使用**: `H`、`Ms`、`Ku`、`A`、`D`、`task`、および `driver` のようなパラメータは、`_s` または `_sweep` サフィックスを使用して配列として定義できます。これらのサフィックスを使用する場合、対応する配列の長さが一致することを確認してください。これにより、シミュレーションはこれらのパラメータの異なる値を反復処理できます。
  * **引数の型**: `args` パラメータは `NamedTuple` または `Dict` のいずれかであり、シミュレーションパラメータを整理して渡す方法に柔軟性を提供します。
  * **ドライバーの選択**: `driver` パラメータ（または複数のドライバーの場合は `driver_s`）はシミュレーションタイプを指定します。オプションには、最急降下法のための `"SD"`、ランドー-リフシッツ-ギルバート方程式のための `"LLG"`、およびスピン転送トルクを含むシミュレーションのための `"LLG_STT"` が含まれます。
  * **停止基準**: `stopping_dmdt` パラメータは、特にリラクゼーションタスクでシミュレーションを停止するタイミングを決定するために重要です。これは磁化の変化率を測定し、典型的な値は `0.01` から `1` です。原子モデルの場合、`using_time_factor` フラグを `false` に設定して時間スケーリングを無効にできます。
  * **データ保存**: `relax_m_interval` および `dynamic_m_interval` パラメータは、それぞれ `Relax` および `Dynamics` タスク中に磁化データがどのくらいの頻度で保存されるかを制御します。負の値を使用して、これらのタスクのデータ保存を無効にします。
