```
fDiag(func::Function, X::AnyMatrix, k::Int=0)
```

**ã‚¨ã‚¤ãƒªã‚¢ã‚¹**: `ð‘“ð”»`

é–¢æ•° `func` ã‚’å®Ÿæ•°ã¾ãŸã¯è¤‡ç´ æ•°ã® `Diagonal`ã€`LowerTriangular`ã€`Matrix` ã¾ãŸã¯ `Hermitian` è¡Œåˆ— $X$ ã® $k^{th}$ å¯¾è§’è¦ç´ ã«è¦ç´ ã”ã¨ã«é©ç”¨ã—ã€ã“ã‚Œã‚‰ã®è¦ç´ ã‚’æŒã¤å¯¾è§’è¡Œåˆ—ã‚’è¿”ã—ã¾ã™ã€‚ $X$ ã¯ã™ã¹ã¦ã®å ´åˆã«ãŠã„ã¦æ­£æ–¹è¡Œåˆ—ã§ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ãŒã€ð•„=`Matrix` åž‹ã®å¼•æ•°ã®å ´åˆã¯ã€æ¬¡å…ƒãŒ *râ‹…c* ã§ *r â‰  c* ã§ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚

å¯¾è§’ã®ç•ªå·ä»˜ã‘ã«ã¤ã„ã¦ã¯ã€julia ã® [tril(M, k::Integer)](https://bit.ly/2Tbx8o7) é–¢æ•°ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ä¸»å¯¾è§’ç·šãŒè€ƒæ…®ã•ã‚Œã¾ã™ã€‚

  * $$
    X
    $$

    ãŒ `Diagonal` ã®å ´åˆã€$k$ ã¯è‡ªå‹•çš„ã«ã‚¼ãƒ­ï¼ˆä¸»å¯¾è§’ç·šï¼‰ã«è¨­å®šã•ã‚Œã¾ã™ã€‚
  * $$
    X
    $$

    ãŒ `LowerTriangular` ã®å ´åˆã€$k$ ã¯æ­£ã®å€¤ã«ã¯ã§ãã¾ã›ã‚“ã€‚

$$
X
$$

ãŒé•·æ–¹å½¢ã®å ´åˆã€çµæžœã®æ¬¡å…ƒã¯ $X$ ã®ã‚µã‚¤ã‚ºã¨é¸æŠžã—ãŸå¯¾è§’ç·šã«ä¾å­˜ã—ã¾ã™ã€‚ä¾‹ãˆã°ã€

  * *r â‰  c* ã‹ã¤ $k$=0ï¼ˆä¸»å¯¾è§’ç·šï¼‰ã®å ´åˆã€çµæžœã®æ¬¡å…ƒã¯ min*(r,c)*â‹…*min(r,c)* ã«ãªã‚Šã¾ã™ã€‚
  * $$
    X
    $$

    *3â‹…4* ã‹ã¤ $k=-1$ ã®å ´åˆã€çµæžœã¯ *2â‹…2* ã«ãªã‚Šã¾ã™ã€‚
  * $$
    X
    $$

    *3â‹…4* ã‹ã¤ $k=1$ ã®å ´åˆã€çµæžœã¯ *3â‹…3* ã«ãªã‚Šã¾ã™ã€‚ãªã©ã€‚

!!! note "Nota Bene"
    é–¢æ•° `func` ã¯ `func.` æ§‹æ–‡ã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€ã—ãŸãŒã£ã¦é¸æŠžã—ãŸå¯¾è§’ç·šã®è¦ç´ ã«è¦ç´ ã”ã¨ã«é©ç”¨ã§ãã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼ˆã“ã‚Œã«ã¯ [åŒ¿åé–¢æ•°](https://docs.julialang.org/en/v1/manual/functions/#man-anonymous-functions-1) ãŒå«ã¾ã‚Œã¾ã™ï¼‰ã€‚å…¥åŠ›è¡Œåˆ—ãŒè¤‡ç´ æ•°ã®å ´åˆã€é–¢æ•° `func` ã¯è¤‡ç´ æ•°ã®å¼•æ•°ã‚’ã‚µãƒãƒ¼ãƒˆã§ãã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚


**é–¢é€£é …ç›®**: [`DiagOfProd`](@ref), [`tr`](@ref).

**ä¾‹**

```julia
using PosDefManifold
P=randP(5) # Hermitian è¡Œåˆ—ã‚’ç”Ÿæˆã™ã‚‹ã«ã¯ P=randP(ComplexF64, 5) ã‚’ä½¿ç”¨

# P ã®æœ€åˆã®ä¸‹å¯¾è§’ç·šã®é€†æ•°ã‚’æŒã¤å¯¾è§’è¡Œåˆ—
D=fDiag(inv, P, -1)

(Î›, U) = evd(P) # Î› ã¯ P ã®å›ºæœ‰å€¤ã‚’ä¿æŒã—ã¾ã™ã€‚evd ã‚’å‚ç…§

# å›ºæœ‰å€¤ã®å¯¾æ•°ã‚’æŒã¤å¯¾è§’è¡Œåˆ—
Î”=fDiag(log, Î›)

# å›ºæœ‰å€¤ã®äºŒä¹—ã®ãŸã‚ã®åŒ¿åé–¢æ•°ã‚’ä½¿ç”¨
Î”=fDiag(x->x^2, Î›)
```
