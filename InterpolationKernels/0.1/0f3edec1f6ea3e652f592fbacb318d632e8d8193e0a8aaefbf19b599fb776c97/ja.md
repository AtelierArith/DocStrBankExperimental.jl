# 補間カーネル

補間カーネル `Kernel{T,S,B}` は、その係数の浮動小数点型 `T`、サポートのサイズ `S`、および外挿のために適用する境界条件 `B` によってパラメータ化されます。効率の理由から、（小さい）有限サイズのサポートを持つカーネルのみが実装されています。

カーネル `ker` は、実数引数を持つ関数として使用できる呼び出し可能なオブジェクトです：

```
ker(x::Real)
```

はオフセット `x` におけるカーネル値を返します。すべてのカーネルサポートは対称であり、すなわち `ker(x)` は `abs(x) > S/2` の場合にゼロになります。ここで `S` はカーネルサポートのサイズです。

## カーネルの変換

カーネルの引数は浮動小数点型および/または境界条件型である必要があります：

```
ker(::Type{T}, ::Type{B}) where {T<:AbstractFloat, B<:Boundaries}
```

これは、カーネルを指定された浮動小数点型 `T` で動作させ、境界条件 `B` を使用するように変換します（いずれかを省略することができ、その順序は重要ではありません）。浮動小数点型を変更すると、新しい浮動小数点型がより多くの桁を持つ場合、精度の損失が生じる可能性があることに注意してください。

カーネルの浮動小数点型や境界条件を次のように変更することが可能です：

```julia
Float32(ker)    # カーネル `ker` の浮動小数点型を変更
SafeFlat(ker)   # カーネル `ker` の境界条件を変更
```

上記の呼び出しは、コンストラクタがその引数をその型のインスタンスに変換するために呼び出されるという通常の慣習に従っていませんが、カーネル `ker` の浮動小数点型と境界条件をそれぞれ変更するための次のようなより厳密な呼び出しを考慮すると、実用的です：

```julia
convert(Kernel{Float32}, ker)
convert(Kernel{eltype(ker),length(ker),SafeFlat}, ker)
```

## 利用可能なメソッド

次のメソッドは、任意の補間カーネル `ker` に対して利用可能です：

```julia
eltype(ker) -> T
```

は計算のための浮動小数点型を返します。

```julia
length(ker) -> S
size(ker)   -> (S,)
```

は、カーネル `ker` のサポートのサイズを返し、これはこのカーネルによる補間に関与する隣接点の数でもあります。

```julia
boundaries(ker) -> B
```

は外挿のために適用される境界条件の型を返します。最後に：

```julia
getweights(ker, t) -> w1, w2, ..., wS
```

はオフセット `t` に対する `S` の補間重みを返します。

```
t = x - floor(x)        もし s が偶数の場合
    x - round(x)        もし s が奇数の場合
```

`t ∈ [0,1]` もし `S` が偶数の場合、またはオフセット `t ∈ [-1/2,+1/2]` もし `S` が奇数の場合です。
