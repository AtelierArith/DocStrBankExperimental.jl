```
optimtest(fg, x, [d]; alpha = -0.1:0.001:0.1, retract = _retract, inner = _inner)
-> αs, fs, dfs1, dfs2
```

勾配、再収縮、および内積の計算の互換性をテストするために、点 `x` から方向 `d` に沿った再収縮に対応する曲線に沿って目的関数の導関数を2つの異なる方法で計算します。特に、元の範囲またはリスト `alpha` の中間にある点 `αs` では、関数値 `fs` と導関数の2つの異なる値 `dfs1` と `dfs2` が返されます。導関数は次のように計算されます。

1. 数値微分、すなわち `dfs1` には値 `(fg(retract(x, d, alpha[i+1])[1])[1] - fg(retract(x, d, alpha[i])[1])[1])/(alpha[i+1]-alpha[i])` が含まれ、点 `(alpha[i]+alpha[i+1])/2` での導関数の推定値となります。
2. 勾配を使用する、すなわち `dfs2` には値 `inner(xα, dα, gα)` が含まれ、ここで `xα, dα = retract(x, d, α)` であり、値 `α = (alpha[i]+alpha[i+1])/2` および `gα = fg(xα)[2]` です。

`dfs1` と `dfs2` の値が期待される精度に一致するかどうかは、ユーザーが数値を検査するか、プロットすることによって確認する必要があります。これらの値が一致しない場合、`optimize` のラインサーチが機能することは期待できません。
