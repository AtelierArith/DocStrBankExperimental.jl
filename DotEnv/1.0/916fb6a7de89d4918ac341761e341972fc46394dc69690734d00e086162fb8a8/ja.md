```
DotEnv
```

DotEnv.jlは、`.env`ファイルから環境変数を[`ENV`](@ref)に読み込む軽量パッケージです。環境に設定を保存することは、[The Twelve-Factor App](http://12factor.net/config)の方法論に基づいています。

dotenvファイルに秘密を保存しないでください。どうしても必要な場合は、少なくともdotenvファイルが`.gitignore`にリストされていることを確認してください。

!!! info "API"
    `DotEnv`: `load!()`, `unload!()`, `config`, `parse`.


# クイックスタート

`DotEnv.load!()`を使用して環境変数を読み込み、`DotEnv.unload!()`を使用して読み込みを元に戻し、`DotEnv.config()`を使用して変更された環境をミューテートせずに表す辞書を取得します。

詳細については、これらの関数のドキュメント文字列を参照してください。

# 自動検出されたdotenvファイル

DotEnvは、https://github.com/bkeepers/dotenvの標準的な動作に従い、以下のファイル名を読み込みます。最も特定的な（最後の）ものが優先されます。

  * `.env`
  * `.env.production`
  * `.env.test`
  * `.env.development`
  * `.env.local`
  * `.env.production.local`
  * `.env.test.local`
  * `.env.development.local`

現在のディレクトリにdotenvファイルがない場合、`DotEnv.load!()`と`DotEnv.unload!()`は親ディレクトリを見て、dotenvファイルが見つかるまで再帰的に探索します。または、ルートディレクトリに達するまで探索します。

# DotEnvフォーマット

DotEnvフォーマットはおそらく馴染みがあるでしょう。

```text
FOO=bar # インラインコメント
BAZ="${FOO}bar"
```

明確さのために、解析ルールは次のとおりです。

1. 先頭の空白は無視されます
2. 空行および`#`で始まる行はスキップされます
3. `export`プレフィックスは無視されます（例：`export FOO=bar`）
4. 空の代入は空の文字列として扱われます（`EMPTY=`は`"EMPTY" => ""`になります）
5. キーと値は`=`または`:`で区切られ、任意の量の空白が許可されます
6. すべての値は文字列ですが、シングル（`'`）またはダブルクオート（`"`）で引用できます
7. 同じタイプの引用符は引用された値の中に出現できますが、`\`でエスケープする必要があります
8. インラインコメントは引用された値の外側で`#`で始まります
9. ダブルクオートで引用された値の中では、`\n`改行が展開され、複数行の値が許可されます
10. 引用されていない値の両端から余分な空白が削除されます（例：`FOO` some  value `は`"FOO" => "some value"`になります）
11. 変数展開は引用されていない値とダブルクオートで引用された値の中で行われます。`$NAME`、`${NAME}`、および`${NAME:-default}`の展開がすべてサポートされています。
12. 不正な行は静かにスキップされます
