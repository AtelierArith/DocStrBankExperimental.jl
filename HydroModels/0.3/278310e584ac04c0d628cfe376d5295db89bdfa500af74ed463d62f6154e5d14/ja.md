```
StateFlux{N} <: AbstractStateFlux
```

水文学モデルにおける状態フラックスコンポーネントを表し、状態変数が時間とともにどのように変化するかを説明します。型パラメータ `N` は、型レベルでコンポーネント名をエンコードするために使用され、より良い型の安定性を提供します。

# 引数

  * `inputs::Vector{Num}`: 状態変化に影響を与える入力変数のベクター
  * `state::Num`: 更新される状態変数
  * `params::Vector{Num}=Num[]`: オプションのパラメータ変数のベクター
  * `expr::Num`: 状態導関数を定義する式
  * `name::Union{Symbol,Nothing}=nothing`: オプションのフラックス識別子

# フィールド

  * `exprs::Vector{Num}`: 状態導関数の式のベクター
  * `infos::NamedTuple`: 入力、状態、およびパラメータ情報を含むコンポーネントメタデータ

# 説明

StateFluxは、水文学モデルにおける状態変化を表現するための型安定な実装です。これは、入力、現在の状態、およびパラメータに基づいて状態変数が時間とともにどのように進化するかを定義します。このコンポーネントは、異なるモデリングニーズに対応するために3つの方法で構築できます。

## モデル構造

状態フラックスモデルは以下で構成されています：

  * 入力変数: 状態変化に影響を与える外部変数
  * 状態変数: 更新される変数
  * パラメータ: 計算に使用されるモデルパラメータ
  * 式: 状態導関数を定義する数学的公式

## メタデータコンポーネント

`infos` フィールドは以下を追跡します：

  * `inputs`: 入力変数名
  * `states`: 状態変数名
  * `params`: パラメータ名
  * `inflows`: 入力フラックス名（フラックスから構築された場合）
  * `outflows`: 出力フラックス名（フラックスから構築された場合）

## 構築方法

1. 明示的定義：

    ```julia

    # 入力とパラメータの関数として状態変化を定義

    flux = StateFlux(      inputs=[precip, evap],  # 入力変数      state=soil_moisture,    # 状態変数      params=[k₁, k₂],       # パラメータ      expr=k₁*precip - k₂*evap  # 状態導関数  )  ```
2. フラックスベースの定義：

    ```julia

    # 入力と出力の差として状態変化を定義

    flux = StateFlux(      [inflow₁, inflow₂] => [outflow₁, outflow₂],  # 入力/出力フラックス      soil_moisture                                  # 状態変数  )  ```
3. 状態遷移：

    ```julia

    # 直接的な状態遷移を定義

    flux = StateFlux(      old*state => new*state  # 状態遷移ペア  )  ```

## 使用上の注意

1. 状態導関数は式から自動的に計算されます
2. 提供されていない場合、状態変数から名前が自動生成されます
3. StateFluxコンポーネントはHydroBucket内で使用する必要があります
4. フラックスペアは自動的に質量バランス方程式を作成します
