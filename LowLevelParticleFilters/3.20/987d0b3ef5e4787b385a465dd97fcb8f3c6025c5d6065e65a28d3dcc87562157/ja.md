```
IMM(models, P, μ; check = true, p = NullParameters(), interact = true)
```

相互作用型複数モデル (IMM) フィルタ。このフィルタは、各自の状態と共分散を持つ複数のカルマン型フィルタの組み合わせです。IMMフィルタは、個々のフィルタの状態と共分散の確率的に重み付けされた平均です。重みは、確率行列 `P` と混合確率 `μ` によって決定されます。

この実装により、内部モデルのアンサンブルで任意のカルマン型推定器の組み合わせを使用でき、線形推定器に限定されません。このモデルのクラスは、以下のような他のモデルを含みます。

  * ジャンプマルコフ線形システム (JMLS)
  * 複数モデルフィルタ (相互作用は `interact=false` に設定することでオフにできます)
  * 複数仮説追跡 (MHT)

!!! warning "実験的"
    このフィルタは現在実験的と見なされており、ユーザーインターフェースは将来的にセマンティックバージョニングを尊重せずに変更される可能性があります。


[`predict!`](@ref) および [`correct!`](@ref) ステップに加えて、IMMフィルタには混合確率に基づいて個々のフィルタの状態と共分散を更新する [`interact!`](@ref) メソッドがあります。[`combine!`](@ref) メソッドは、個々のフィルタの状態と共分散を単一の状態と共分散に結合します。これらの4つの関数は通常、次のいずれかの順序で呼び出されます。

  * `correct!, combine!, interact!, predict!` (これは [`update!`](@ref) で行われる)
  * `interact!, predict!, correct!, combine!` (これは以下の引用文献で行われる)

これらの2つの順序は互いに循環置換であり、[`update!`](@ref) で使用される順序は、初期条件が最初の測定を使用して修正される他のフィルタで使用される順序と一致するように選ばれています。すなわち、最初の測定が $x(0|-1)$ を $x(0|0)$ に更新すると仮定します。

IMMフィルタの初期（結合）状態と共分散は、個々のフィルタの状態と共分散の重み付き平均で構成されています。重みは初期混合確率 `μ` です。

参考文献: "Interacting multiple model methods in target tracking: a survey", E. Mazor; A. Averbuch; Y. Bar-Shalom; J. Dayan

# 引数:

  * `models`: [`KalmanFilter`](@ref)、[`ExtendedKalmanFilter`](@ref)、[`UnscentedKalmanFilter`](@ref) などのカルマン型フィルタの配列。各モデルの状態は同じ意味を持つ必要があり、重み付き平均を形成することが意味を持ちます。
  * `P`: モード遷移確率行列。`P[i,j]` はモード `i` からモード `j` への遷移確率です（各行は1に合計される必要があります）。
  * `μ`: 初期混合確率。`μ[i]` は初期条件でモード `i` にいる確率です（1に合計される必要があります）。
  * `check`: `true` の場合、入力が有効であることを確認します。`false` の場合、チェックをスキップします。
  * `p`: フィルタのパラメータ。注意: この `p` はすべての内部フィルタで共有されます。各フィルタの内部 `p` はこのものによって上書きされます。
  * `interact`: `true` の場合、フィルタは [`update!`](@ref) および [`forward_trajectory`](@ref) の一部として相互作用を実行します。`false` の場合、フィルタは相互作用ステップを実行しません。この選択は、各関数にキーワード引数 `interact` を渡すことで上書きできます。
