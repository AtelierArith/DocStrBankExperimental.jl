```
allknn(g::AbstractSearchIndex, k::Integer; minbatch=0, pools=getpools(g)) -> knns, dists
allknn(g, knns, dists; minbatch=0, pools=getpools(g)) -> knns, dists
```

インデックス `g` を使用してすべての k 最近傍（全対全）を計算します。自己参照は削除されます。

# パラメータ:

  * `g`: インデックス
  * クエリ仕様と結果:

      * `k`: 取得する近傍の数
      * `knns`: `n` 要素の `k` 最近傍を格納するための (k, n) サイズの初期化されていない整数行列
      * `dists`: `n` 要素の `k` 最近距離を格納するための (k, n) サイズの初期化されていない浮動小数点行列
  * `minbatch`: 構成の評価に multithreading がどのように使用されるかを制御します。 [`getminbatch`](@ref) を参照してください
  * `pools`: `g` に依存するプールオブジェクト

# 戻り値:

  * `knns` は識別子の (k, n) 行列です; i 番目の列はデータセットの i 番目のオブジェクトに対応します。 各列の末尾にゼロが発生する可能性があり、これは取得が希望する `k` より少なかったことを意味します
  * `dists` は距離の (k, n) 行列です; i 番目の列はデータセットの i 番目のオブジェクトに対応します。 `knns` のゼロ値は `dists` では無視されるべきです

# キーワード引数

  * `minbatch`: 構成の評価に multithreading がどのように使用されるかを制御します。 [`getminbatch`](@ref) を参照してください
  * `pools`: `pools`: `g` に依存するプールオブジェクト

# 注意:

この関数は `v0.8` シリーズで導入され、自己参照は自動的に削除されます。 `v0.9` では、アルゴリズムから削除することがかなりのオーバーヘッドを引き起こすため、自己参照は保持されます。
