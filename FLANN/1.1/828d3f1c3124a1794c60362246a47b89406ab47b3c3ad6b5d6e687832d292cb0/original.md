This function builds a search index and uses it to find the `k` nearest neighbors of `xs` points using an already built `index`.
