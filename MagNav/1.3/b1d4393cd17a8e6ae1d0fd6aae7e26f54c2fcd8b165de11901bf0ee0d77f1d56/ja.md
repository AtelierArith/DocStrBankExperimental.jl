```
NNCompParams <: CompParams
```

ニューラルネットワークベースの空中磁気補正パラメータ構造体。`CompParams`のサブタイプです。

デフォルトのパラメータを確認するには、`NNCompParams()`と入力してください。

**一般パラメータ:**

| **パラメータ**          | **型**            | **説明**                                                                                                |
|:------------------ |:---------------- |:----------------------------------------------------------------------------------------------------- |
| `version`          | VersionNumber    | この構造体を生成するために使用されたMagNav.jlのバージョン                                                                     |
| `features_setup`   | Vector{`Symbol`} | 含める特徴のベクトル                                                                                            |
| `features_no_norm` | Vector{`Symbol`} | 正規化しない特徴のベクトル                                                                                         |
| `model_type`       | Symbol           | 空中磁気補正モデルのタイプ（`下記参照`）                                                                                 |
| `y_type`           | Symbol           | `y`ターゲットタイプ（`下記参照`）                                                                                   |
| `use_mag`          | Symbol           | `y`ターゲットベクトルに使用する補正されていないスカラー磁力計 {`:mag_1_uc` など}、`y_type = :c, :d, :e`のときのみ使用                        |
| `use_vec`          | Symbol           | "外部"トレス・ローソン`A`行列に使用するベクトル磁力計（フラックスゲート） {`:flux_a` など}、`model_type = :m1`のときは使用しない                    |
| `data_norms`       | Tuple            | データ正規化の長さ`7`のタプル、`(A_bias,A_scale,v_scale,x_bias,x_scale,y_bias,y_scale)`                             |
| `model`            | Chain            | ニューラルネットワークモデル                                                                                        |
| `terms`            | Vector{`Symbol`} | `x`データ行列内のトレス・ローソン`A`行列（または行列）に使用するトレス・ローソン項 {`:permanent`,`:induced`,`:eddy`}                        |
| `terms_A`          | Vector{`Symbol`} | "外部"トレス・ローソン`A`行列に使用するトレス・ローソン項 {`:permanent`,`:induced`,`:eddy`,`:bias`}、`model_type = :m1`のときは使用しない |
| `sub_diurnal`      | Bool             | trueの場合、スカラー磁力計の測定値から日変化を引き算します                                                                       |
| `sub_igrf`         | Bool             | trueの場合、スカラー磁力計の測定値からIGRFを引き算します                                                                      |
| `bpf_mag`          | Bool             | trueの場合、`x`データ行列内のスカラー磁力計の測定値をバンドパスフィルタリングします                                                         |
| `reorient_vec`     | Bool             | trueの場合、ベクトル磁力計（フラックスゲート）をボディフレームに合わせます                                                               |
| `norm_type_A`      | Symbol           | "外部"トレス・ローソン`A`行列の正規化、`model_type = :m2*`のときのみ使用されます（`下記参照`）                                          |
| `norm_type_x`      | Symbol           | `x`データ行列の正規化（`下記参照`）                                                                                  |
| `norm_type_y`      | Symbol           | `y`ターゲットベクトルの正規化（`下記参照`）                                                                              |

  * `model_type`のオプションは3つのアーキテクチャに分かれており、`1`は標準的なフィードフォワードニューラルネットワーク、`2`と`3`はトレス・ローソンと併用されます。

      * `:m1`   = 標準的なフィードフォワードニューラルネットワーク（NN）
      * `:m2a`  = NNがトレス・ローソン（TL）係数を決定
      * `:m2b`  = NNが古典的TLへの加算補正を決定
      * `:m2c`  = NNが古典的TLへの加算補正を決定し、TL係数も調整
      * `:m2d`  = NNが各TL係数への加算補正を決定
      * `:m3tl` = NNなし、TL係数はSGDで微調整、`y_type = :b, :c`のためのテイラー展開なし（テスト用）
      * `:m3s`  = NNがTLへのスカラー補正を決定し、説明可能性のために拡張されたTLベクトル項を使用
      * `:m3v`  = NNがTLへのベクトル補正を決定し、説明可能性のために拡張されたTLベクトル項を使用
      * `:m3sc` = TL誤差に基づくカリキュラム学習を伴う`:m3s`
      * `:m3vc` = TL誤差に基づくカリキュラム学習を伴う`:m3v`
      * `:m3w`  = 時系列データセットのためのウィンドウNNを伴う`:m3s`
      * `:m3tf` = 時系列データセットのための時系列トランスフォーマーを伴う`:m3s`
  * `y_type`のオプション:

      * `:a` = 異常場 #1、補正されたテールスティンガーのトータルフィールドスカラー磁力計測定値
      * `:b` = 異常場 #2、補間された`磁気異常マップ`の値
      * `:c` = 航空機場 #1、補正されていないキャビンのトータルフィールドスカラー磁力計測定値と補間された`磁気異常マップ`の値の差
      * `:d` = 航空機場 #2、補正されていないキャビンと補正されたテールスティンガーのトータルフィールドスカラー磁力計測定値の差
      * `:e` = BPF'dトータルフィールド、バンドパスフィルタリングされた補正されていないキャビンのトータルフィールドスカラー磁力計測定値
  * `norm_type`のオプション:

      * `:standardize` = Zスコア正規化
      * `:normalize`   = 最小-最大正規化
      * `:scale`       = 最大絶対値でスケール、バイアス = 0
      * `:none`        = 1でスケール、バイアス = 0

**ニューラルネットワークベースのモデル特有のパラメータ:**

| **パラメータ**      | **型**             | **説明**                                                   |
|:-------------- |:----------------- |:-------------------------------------------------------- |
| `TL_coef`      | Vector{`Float64`} | トレス・ローソン係数、`model_type = :m1, :m2a`のときは使用しない             |
| `η_adam`       | Float64           | Adamオプティマイザの学習率                                          |
| `epoch_adam`   | Int64             | Adamオプティマイザのエポック数                                        |
| `epoch_lbfgs`  | Int64             | LBFGSオプティマイザのエポック数                                       |
| `hidden`       | Vector{`Int64`}   | 隠れ層とノード（例：`[8,8]`は2つの隠れ層、各8ノード）                          |
| `activation`   | Function          | 活性化関数（`下記参照`）                                            |
| `loss`         | Function          | 損失関数（`下記参照`）                                             |
| `batchsize`    | Int64             | ミニバッチサイズ                                                 |
| `frac_train`   | Float64           | トレーニングに使用されるトレーニングデータの割合（残りは検証用）、Adamオプティマイザのときのみ使用      |
| `α_sgl`        | Float64           | ラッソ（`α_sgl=0`）対グループラッソ（`α_sgl=1`）のバランスパラメータ {0:1}        |
| `λ_sgl`        | Float64           | スパースグループラッソパラメータ、通常は~1e-5（ゼロでない場合）                       |
| `k_pca`        | Int64             | PCA + ホワイトニングのためのコンポーネント数、`-1`は無視                        |
| `drop_fi`      | Bool              | trueの場合、ドロップカラム特徴重要度を実行                                  |
| `drop_fi_bson` | String            | 保存/読み込みするドロップカラム特徴重要度データBSONファイルのパス/名前（`.bson`拡張子はオプション） |
| `drop_fi_csv`  | String            | 保存するドロップカラム特徴重要度データCSVファイルのパス/名前（`.csv`拡張子はオプション）        |
| `perm_fi`      | Bool              | trueの場合、順列特徴重要度を実行                                       |
| `perm_fi_csv`  | String            | 保存する順列特徴重要度データCSVファイルのパス/名前（`.csv`拡張子はオプション）             |

  * `activation`のオプションは、`plot_activation()`を実行することで視覚化できます:

      * `relu`  = 修正線形単位
      * `σ`     = シグモイド（ロジスティック関数）
      * `swish` = セルフゲーテッド
      * `tanh`  = 双曲線タンジェント
  * `loss`のオプション:

      * `mse`        = 平均二乗誤差
      * `mae`        = 平均絶対誤差
      * `huber_loss` = 平均ハバー損失
