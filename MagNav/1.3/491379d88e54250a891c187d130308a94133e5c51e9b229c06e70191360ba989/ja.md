```
comp_m3_test(comp_params::NNCompParams, lines,
             df_line::DataFrame, df_flight::DataFrame, df_map::DataFrame;
             temp_params::TempParams = TempParams(),
             silent::Bool            = false)
```

ニューラルネットワークベースの空中磁気補償の性能を評価します。モデル3は説明可能性のための追加出力を持ちます。

**引数:**

  * `comp_params`: `NNCompParams` ニューラルネットワークベースの空中磁気補償パラメータ構造体
  * `lines`:       選択されたライン番号
  * `df_line`:     `lines` のルックアップテーブル (DataFrame)

| **フィールド**  | **型**    | **説明**                         |
|:---------- |:-------- |:------------------------------ |
| `flight`   | `Symbol` | フライト名 (例: `:Flt1001`)          |
| `line`     | `Real`   | ライン番号、すなわち `flight` 内のセグメント    |
| `t_start`  | `Real`   | 使用する `line` の開始時間 [s]          |
| `t_end`    | `Real`   | 使用する `line` の終了時間 [s]          |
| `map_name` | `Symbol` | (オプション) `line` に関連する磁気異常マップの名前 |

  * `df_flight`: フライトデータファイルのルックアップテーブル (DataFrame)

| **フィールド**  | **型**    | **説明**                                                               |
|:---------- |:-------- |:-------------------------------------------------------------------- |
| `flight`   | `Symbol` | フライト名 (例: `:Flt1001`)                                                |
| `xyz_type` | `Symbol` | フライトデータに使用する `XYZ` のサブタイプ {`:XYZ0`,`:XYZ1`,`:XYZ20`,`:XYZ21`}        |
| `xyz_set`  | `Real`   | フライトデータセット番号 (異なる磁力計の位置などの不適切なデータセットの混合を防ぐために使用)                     |
| `xyz_file` | `String` | フライトデータのCSV、HDF5、またはMATファイルのパス/名前 (`.csv`, `.h5`, または `.mat` 拡張子が必要) |

  * `df_map`: マップデータファイルのルックアップテーブル (DataFrame)

| **フィールド**  | **型**    | **説明**                                                |
|:---------- |:-------- |:----------------------------------------------------- |
| `map_name` | `Symbol` | 磁気異常マップの名前                                            |
| `map_file` | `String` | マップデータのHDF5またはMATファイルのパス/名前 (`.h5` または `.mat` 拡張子が必要) |

  * `temp_params`: (オプション) `TempParams` 一時的な時間パラメータ構造体
  * `silent`:      (オプション) trueの場合、出力は表示されません

**戻り値:**

  * `TL_perm`:      `3` x `N` のTL永久ベクトル場の行列
  * `TL_induced`:   `3` x `N` のTL誘導ベクトル場の行列
  * `TL_eddy`:      `3` x `N` のTL渦電流ベクトル場の行列
  * `TL_aircraft`:  `3` x `N` のTL航空機ベクトル場の行列
  * `B_unit`:       `3` x `N` の正規化されたベクトル磁力計測定の行列
  * `B_vec`:        `3` x `N` のベクトル磁力計測定の行列
  * `y_nn`:         `3` x `N` のベクトルニューラルネットワーク補正の行列 (スカラーモデルの場合、`Bt` の方向)
  * `vec_aircraft`: `3` x `N` の予測された航空機ベクトル場の行列
  * `y`:            長さ-`N` のターゲットベクトル
  * `y_hat`:        長さ-`N` の予測ベクトル
  * `err`:          長さ-`N` の平均補正された (ラインごとの) 補償誤差
  * `features`:     長さ-`Nf` の特徴ベクトル (TL `A` の成分などを含む)
