ステータスフラグ（fmi3FunctionTypes.hファイルで定義されたfmi3Status型の列挙体）を定義し、関数が呼び出しの成功を示すために返すものです。ステータスは以下の意味を持ちます：

  * fmi3OK: 呼び出しは成功しました。出力引数の値は定義されています。
  * fmi3Warning: 重大でない問題が検出されましたが、計算は続行できます。出力引数の値は定義されています。関数logMessageは、FMUがこのステータスを返す前に、現在のログ設定を尊重してさらなる情報を提供するために呼び出すべきです。

[特定のアプリケーション、例えばプロトタイピング環境では、警告が許容される場合があります。生産環境では、警告は無視できない限りエラーとして扱うべきです。]

  * fmi3Discard: 呼び出しは成功しませんでしたが、FMUは呼び出し前と同じ状態にあります。出力引数の値は定義されていませんが、計算は続行できます。関数logMessageは、FMUがこのステータスを返す前に、現在のログ設定を尊重してさらなる情報を提供するために呼び出すべきです。高度なシミュレーションアルゴリズムは、異なる引数で関数を呼び出したり、別の関数を呼び出したりしてシミュレーションを進めるための代替アプローチを試みることができます。そうでなければ、シミュレーションアルゴリズムはこの戻りコードをfmi3Errorのように扱い、シミュレーションを終了しなければなりません。

[fmi3Discardの使用例には、min/max違反の処理や、モデル評価中に数値的問題を信号として扱い、より小さなステップサイズを強制することが含まれます。]

  * fmi3Error: 呼び出しは失敗しました。出力引数の値は未定義であり、シミュレーションを続行できません。関数logMessageは、FMUがこのステータスを返す前に、現在のログ設定を尊重してさらなる情報を提供するために呼び出すべきです。関数がfmi3Errorを返す場合、fmi3SetFMUStateを呼び出すことで以前に取得したFMUの状態を復元することが可能です。そうでなければ、fmi3FreeInstanceまたはfmi3Resetを呼び出さなければなりません。違法な引数や、該当する状態遷移図に従って現在の状態で許可されていない関数呼び出しを検出した場合、FMUはfmi3Errorを返さなければなりません。このFMUの他のインスタンスは、エラーの影響を受けません。
  * fmi3Fatal: モデルのすべてのインスタンスの状態が修復不可能に破損しています。[例えば、FMI関数の実行中にアクセス違反やゼロによる整数除算などのランタイム例外が原因です。] 可能であれば、関数logMessageは、FMUがこのステータスを返す前に、現在のログ設定を尊重してさらなる情報を提供するために呼び出すべきです。FMUの任意のインスタンスに対して他の関数を呼び出すことは許可されていません。

出典: FMISpec3.0, Version D5ef1c1: 2.2.3. 関数によって返されるステータス
