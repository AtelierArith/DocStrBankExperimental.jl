```
 mddist2c(sysm1, sysm2; MDfreq, cdinp = false, distance = "nugap", 
          rtolinf = 0.00001, offset, atol, atol1 = atol, atol2 = atol, rtol = 0, fast = true) -> (dist, fpeak)
```

2つの複数成分合成モデル `sysm1::MDMModel` と `sysm2::MDMModel` の間のペアワイズ距離を計算します。 `sysm1` に `N` 個の成分モデルが含まれ、 `sysm2` に `M` 個の成分モデルが含まれている場合、結果として得られる `dist` と `fpeak` は `N × M` の実行列であり、その `[i,j]` 番目のエントリには、システム `sysm1.sys[i]` と `sysm2.sys[j]` の間の距離が含まれ、対応するピーク周波数が得られます。 `sysm1` と `sysm2` は、成分合成モデルのベクトルとしても指定できます。

`i` 番目の成分システム `sysm1.sys[i]` は、次の形式の記述子実現を持ちます。 `sysm1.sys[i] = (A1i-λE1i,B1i,C1i,D1i)` そして対応する入出力形式は

```
  y1i = Gu1i(λ)*u + Gd1i(λ)*di + Gw1i(λ)*wi + Gv1i(λ)*vi
```

ラプラス変換または Z 変換されたプラント出力 `y1i`、制御入力 `u`、外乱入力 `di`、ノイズ入力 `wi`、および補助入力 `vi` を持ち、 `Gu1i(λ)`、 `Gd1i(λ)`、 `Gw1i(λ)` および `Gv1i(λ)` は対応する伝達関数行列です。同様に、 `j` 番目の成分システム `sysm2.sys[j]` は、次の形式の記述子実現を持ちます。 `sysm2.sys[j]= (A2j-λE2j,B2j,C2j,D2j)` そして対応する入出力形式は

```
  y2j = Gu2j(λ)*u + Gd2j(λ)*dj + Gw2j(λ)*wj + Gv2j(λ)*vj
```

ラプラス変換または Z 変換されたプラント出力 `y2j`、制御入力 `u`、外乱入力 `dj`、ノイズ入力 `wj`、および補助入力 `vj` を持ち、 `Gu2j(λ)`、 `Gd2j(λ)`、 `Gw2j(λ)` および `Gv2j(λ)` は対応する伝達関数行列です。

システム `sysm1.sys[i]` と `sysm2.sys[j]` の間の距離は次のように評価されます。

```
  dist[i,j] = distf(G1i(λ),G2j(λ)),
```

ここで `distf(⋅,⋅)` はオプションパラメータ `distance` を介して指定された距離関数であり（下記参照）、 `G1i(λ)` と `G2j(λ)` はオプションパラメータ `cdinp` を介して適切に定義された伝達関数行列です（下記参照）。対応するピーク周波数 `fpeak[i,j]` は、距離が達成される周波数値です。

`distance = job` は、次のように使用される距離関数を指定します。

```
job = "nugap"  - ν(G1i(λ),G2j(λ)) で定義されたν-gap距離を使用（デフォルト）
job = "inf"    - 差の H∞-ノルムを使用（すなわち、||G1i(λ)-G2j(λ)||_∞）
job = "2"      - 差の H2-ノルムを使用（すなわち、||G1i(λ)-G2j(λ)||_2）
```

`cdinp = false`（デフォルト）の場合、 `G1i(λ) = Gu1i(λ)` および `G2j(λ) = Gu2j(λ)` ですが、 `cdinp = true` の場合は `G1i(λ) = [Gu1i(λ) Gd1i(λ)]` および `G2j(λ) = [Gu2j(λ) Gd2j(λ)]` となります。 `Gd1i(λ)` の列数が `Gd2j(λ)` より少ない場合、 `[Gd1i(λ) 0]`（適切にパディングされたゼロ列を含む）が `Gd1i(λ)` の代わりに使用され、 `Gd1i(λ)` の列数が `Gd2j(λ)` より多い場合は `[Gd2j(λ) 0]` が `Gd2j(λ)` の代わりに使用されます。

`MDfreq = ω` の場合、ここで `ω` は実周波数値のベクトルであり、各距離 `dist[i,j]` は `ω` のすべての周波数に対して評価された点ごとの距離の最大値であり、対応する周波数 `fpeak[i,j]` は最大点ごとの距離が達成される値です。

安定性境界オフセット `β` は、安定性領域の境界に属する有限極/零点を評価するために使用され、キーワードパラメータ `offset = β` を介して指定できます。したがって、連続時間システムの場合、これらは実部が区間 `[-β,β]` にある有限極/零点であり、離散時間システムの場合、これらはモジュールが区間 `[1-β,1+β]` にある有限極/零点です。 `β` に使用されるデフォルト値は `sqrt(ϵ)` であり、ここで `ϵ` は作業機械精度です。

ペンシル削減アルゴリズムは、ν-gap または H∞-ノルム距離を評価する際に関与する範囲および共画像空間を計算するために使用されます。これらのアルゴリズムは、 `fast = true` の場合は列ピボットを伴うランクを明らかにする QR 分解に基づいてランク決定を行い、 `fast = false` の場合はより信頼性の高い SVD 分解を行います。

キーワード引数 `atol1`、 `atol2` および `rtol` は、それぞれ、状態空間行列 `A1i`、 `A2j`、 `B1i`、 `B2j`、 `C1i`、 `C2j`、 `D1i` および `D2j` の非ゼロ要素の絶対許容誤差、 `E1i` および `E2j` の非ゼロ要素の絶対許容誤差、そして上記のすべての行列の非ゼロ要素の相対許容誤差を指定します。デフォルトの相対許容誤差は `nij*ϵ` であり、ここで `ϵ` は作業機械エプシロンで、 `nij` はシステム `sysm1.sys[i]` と `sysm2.sys[j]` の次数の最大値です。キーワード引数 `atol` は、 `atol1 = atol`、 `atol2 = atol` を同時に設定するために使用できます。

キーワード引数 `rtolinf = tol` は、無限ノルムを計算するために使用される相対精度 `tol` を指定します。使用されるデフォルト値は `tol = 0.00001` です。

*メソッド:* ν-gap の評価は、[1] で提案された定義を使用し、一般化された LTI（記述子）システムに拡張されます。

*参考文献:*

[1] G. Vinnicombe. 不確実性とフィードバック: H∞ ループシェーピングと ν-gap メトリック。インペリアルカレッジプレス、ロンドン、2001年。 
