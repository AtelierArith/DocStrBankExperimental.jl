```
 mddist(sysm; MDfreq, cdinp = false, distance = "nugap",  rtolinf = 0.00001, 
        offset, atol, atol1 = atol, atol2 = atol, rtol = 0, fast = true) -> (dist, fpeak)
```

`sysm::MDMModel`の構成モデル間のペアワイズ距離を計算します。`sysm`に`N`の構成モデルが含まれている場合、結果として得られる`dist`と`fpeak`は`N × N`の実対称行列であり、`[i,j]`-th要素にはシステム`sysm.sys[i]`と`sysm.sys[j]`の間の距離が含まれ、対応する`peak frequency`は計算された距離が達成される周波数です。`sysm`は構成合成モデルのベクトルとしても指定できます。

`i`-th構成システム`sysm.sys[i]`は、次の形式の記述子実現を持ちます。`sysm.sys[i] = (Ai-λEi,Bi,Ci,Di)`および対応する入力-出力形式は次のとおりです。

```
  yi = Gui(λ)*u + Gdi(λ)*di + Gwi(λ)*wi + Gvi(λ)*vi
```

ラプラス変換またはZ変換されたプラント出力`yi`、制御入力`u`、外乱入力`di`、ノイズ入力`wi`、および補助入力`vi`があり、`Gui(λ)`、`Gdi(λ)`、`Gwi(λ)`、`Gvi(λ)`は対応する伝達関数行列です。

システム`sysm.sys[i]`と`sysm.sys[j]`の間の距離は次のように評価されます。

```
  dist[i,j] = distf(G1i(λ),G2j(λ)),
```

ここで`distf(⋅,⋅)`はオプションパラメータ`distance`を介して指定された距離関数（下記参照）であり、`G1i(λ)`および`G2j(λ)`はオプションパラメータ`cdinp`を介して適切に定義された伝達関数行列です（下記参照）。対応するピーク周波数`fpeak[i,j]`は、距離が達成される周波数値です。

`distance = job`は、次のように使用される距離関数を指定します。

```
job = "nugap"  - ν(G1i(λ),G2j(λ))で定義されたν-gap距離を使用（デフォルト）
job = "inf"    - 差のH∞-ノルムを使用（すなわち、||G1i(λ)-G2j(λ)||_∞）
job = "2"      - 差のH2-ノルムを使用（すなわち、||G1i(λ)-G2j(λ)||_2）
```

`cdinp = false`（デフォルト）の場合、`G1i(λ) = Gui(λ)`および`G2j(λ) = Guj(λ)`ですが、`cdinp = true`の場合、`G1i(λ) = [Gui(λ) Gdi(λ)]`および`G2j(λ) = [Guj(λ) Gdj(λ)]`となります。`Gdi(λ)`の列数が`Gdj(λ)`より少ない場合、`[Gdi(λ) 0]`（適切にパディングされたゼロ列を含む）が`Gdi(λ)`の代わりに使用され、`Gdi(λ)`の列数が`Gdj(λ)`より多い場合、`[Gdj(λ) 0]`が`Gdj(λ)`の代わりに使用されます。

`MDfreq = ω`の場合、ここで`ω`は実周波数値のベクトルであり、各距離`dist[i,j]`は`ω`内のすべての周波数に対して評価された点ごとの距離の最大値であり、対応する周波数`fpeak[i,j]`は最大点ごとの距離が達成される値です。

安定性境界オフセット`β`は、安定性領域の境界に属する有限極/零点を評価するために使用され、キーワードパラメータ`offset = β`を介して指定できます。したがって、連続時間システムの場合、これらは実部が区間`[-β,β]`内にある有限極/零点であり、離散時間システムの場合、これらはモジュールが区間`[1-β,1+β]`内にある有限極/零点です。`β`のデフォルト値は`sqrt(ϵ)`であり、ここで`ϵ`は作業機械精度です。

ペンシル削減アルゴリズムは、ν-gapまたはH∞-ノルム距離を評価する際に関与する範囲および共画像空間を計算するために使用されます。これらのアルゴリズムは、`fast = true`の場合は列ピボットを伴うランクを明らかにするQR分解に基づいてランク決定を行い、`fast = false`の場合はより信頼性の高いSVD分解を行います。

キーワード引数`atol1`、`atol2`および`rtol`は、それぞれ、状態空間行列`Ai`、`Bi`、`Ci`、`Di`、`Aj`、`Bj`、`Cj`および`Dj`の非ゼロ要素の絶対許容誤差、`Ei`および`Ej`の非ゼロ要素の絶対許容誤差、そして上記のすべての行列の非ゼロ要素の相対許容誤差を指定します。デフォルトの相対許容誤差は`nij*ϵ`であり、ここで`ϵ`は作業機械エプシロンで、`nij`はシステム`sysm.sys[i]`および`sysm.sys[j]`の次数の最大値です。キーワード引数`atol`は、同時に`atol1 = atol`、`atol2 = atol`を設定するために使用できます。

キーワード引数`rtolinf = tol`は、無限ノルムを計算するために使用される相対精度`tol`を指定します。使用されるデフォルト値は`tol = 0.00001`です。

*メソッド:* ν-gapの評価は、[1]で提案された定義を使用し、一般化されたLTI（記述子）システムに拡張されます。

*参考文献:*

[1] G. Vinnicombe. Uncertainty and feedback: H∞ loop-shaping and the ν-gap metric.      Imperial College Press, London, 2001.  ```
