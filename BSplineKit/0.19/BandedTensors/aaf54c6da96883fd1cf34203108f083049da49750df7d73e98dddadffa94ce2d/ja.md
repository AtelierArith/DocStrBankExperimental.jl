```
BandedTensor3D{T,b}
```

要素型 `T` の三次元バンドテンソル。

# 拡張ヘルプ

## バンド構造

バンド構造は対称であると仮定され、バンド幅 $b$ に基づいて定義されます。次元が $N × N × N$ の立方体バンドテンソルにおいて、要素 $A_{ijk}$ は $|i - j| ≤ b$、$|i - k| ≤ b$ および $|j - k| ≤ b$ の場合にのみ非ゼロである可能性があります。

## ストレージ

データは、各サイズ $r × r$ の小さな行列の `Vector` として保存されます。ここで、$r = 2b + 1$ はバンドの総数です。各サブマトリックスは、形式 `A[:, :, k]` のスライスの非ゼロ値を保持します。

$$
b = 2
$$

の場合、これらの行列の1つは以下のようになります。ドットはバンド外の値（ゼロに等しい）を示します：

```
| x  x  x  ⋅  ⋅ |
| x  x  x  x  ⋅ |
| x  x  x  x  x |
| ⋅  x  x  x  x |
| ⋅  ⋅  x  x  x |
```

これらのサブマトリックスは静的行列（`SMatrix`）として保存されます。

## 要素の設定

テンソルの要素を定義するには、各スライス `A[:, :, k]` を一度に設定する必要があります。例えば：

```julia
A = BandedTensor3D(undef, 20, Val(2))  # サイズ 20×20×20 のテンソルとバンド幅 b = 2
for k in axes(A, 3)
    A[:, :, k] = rand(5, 5)
end
```

詳細については [`setindex!`](@ref) を参照してください。

## 非立方体テンソル

立方体テンソルからのわずかな逸脱が現在サポートされており、次元は $N × N × M$ の形式です。さらに、バンドはオフセット $δ$ に沿って第三次元にシフトされる場合があります。この場合、バンドは $|i - j| ≤ b$、$|i - (k + δ)| ≤ b$ および $|j - (k + δ)| ≤ b$ によって与えられます。

---

```
BandedTensor3D{T}(undef, (Ni, Nj, Nk), Val(b); [bandshift = (0, 0, 0)])
BandedTensor3D{T}(undef, N, Val(b); ...)
```

バンド幅 `b` の3Dバンドテンソルを構築します。

現在、テンソルの最初の2つの次元サイズ `Ni` と `Nj` は等しくなければなりません。2番目のバリアントでは、テンソルの次元は `N × N × N` です。

テンソルは初期化されていない状態で構築されます。サイズが `(2b + 1, 2b + 1)` の各サブマトリックス `A[:, :, k]` は、次の例のように初期化されるべきです：

```
A[:, :, k] = rand(2b + 1, 2b + 1)
```

オプションの `bandshift` 引数は、バンドシフトを説明する形式 `(δi, δj, δk)` のタプルである必要があります。現在、バンドシフトは `δi = δj = 0` に制限されているため、この引数は実際には `(0, 0, δk)` のように見えるべきです。
