```
partial_trace(
    ρ :: AbstractMatrix, dims :: Vector{Int64}, id :: Int64
) :: Matrix
```

指定された `id` のサブシステムに関して行列 `ρ` の部分トレースを実行し、結果として得られる縮小行列を返します。返される行列は、`dims` の要素に対応する `id` を除いた次元の積に等しい次元の正方行列です。

*入力:*

  * `ρ` : 部分トレースが実行される行列。この行列は正方行列であり、`dims` の積に等しい次元を持つ必要があります。
  * `dims` : 各サブシステムの次元を指定する正の整数要素を含むベクトル。*例* として、3量子ビットシステムは `dims = [2,2,2]` を持ち、1量子ビットと1量子トリットを含むシステムは `dims = [2,3]` を持ちます。
  * `id` : トレースアウトされるサブシステムを示すために `dims` ベクトルをインデックス付けする正の整数。

部分トレースは、入力ヒルベルト空間を出力ヒルベルト空間にマッピングする量子操作 $\mathcal{E}$ として理解できます。$\mathcal{E} \; : \; \mathcal{H}_X \rightarrow \mathcal{H}_Y$。量子操作は演算子和表現を持ち、$\mathcal{E}(\rho) = \sum_i E_i  \rho E_i^{\dagger}$ です。例えば、密度行列 $\rho_{ABC}$ を持つ3量子ビットシステムが与えられた場合、システム $B$ に関する部分トレースは明示的に、

$$
\rho_{AC} = \text{Tr}_B[\rho_{ABC}] = \mathcal{E}_B(\rho_{ABC}) = \sum_i E_i \rho_{ABC} E_i^{\dagger}
$$

となり、ここで $E_i = \mathbb{I}_A \otimes \langle i |_B \otimes\mathbb{I}_C$ は量子操作のクラウス演算子を表し、$\rho_{AC}$ はシステム $B$ がトレースアウトされた後に残る縮小密度演算子です。

`ρ` が正方行列でないか、適切な次元でない場合は `DomainError` がスローされます。
