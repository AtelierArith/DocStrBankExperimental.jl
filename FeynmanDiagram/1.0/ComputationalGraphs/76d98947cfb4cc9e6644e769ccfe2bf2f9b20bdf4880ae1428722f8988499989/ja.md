```
flatten_prod!(graph::G; map::Dict{Int,G}=Dict{Int,G}()) where {G<:AbstractGraph}

与えられたグラフ `g` 内のマルチプロダクトサブブランチを再帰的にマージし、プロダクトサブグラフをその親プロダクトグラフにインプレース形式でマージします。
```

# 引数:

  * `g::AbstractGraph`: 修正されるグラフ
  * `map::Dict{Int,G}=Dict{Int,G}()`: 変換後の対応する新しいノードと元のノードのIDをマッピングする辞書。

再帰的な変換では、ノードは異なる親によって何度も訪問される可能性があります。このマップは訪問されたノードを追跡し、それらの変換されたサブブランチを再作成するのではなく再利用します。
