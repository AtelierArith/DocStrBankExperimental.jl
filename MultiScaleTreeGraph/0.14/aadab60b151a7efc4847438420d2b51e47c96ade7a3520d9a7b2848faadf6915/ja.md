```
pipe_model!(node, var_name, threshold_value; allow_missing = false)
```

`pipe_model!`と同様ですが、しきい値まで別の変数を参照として使用します。これは、LiDAR測定のケースで使用され、交差断面（`:var_name`）が*例*として2-3cmの直径まで正確に測定されていることがわかっているが、その下では計算されるべき場合に使用されます。

この関数は、`:var_name <= threshold_value`の値を持つ一部のサブツリーに対してのみ、パイプモデルを使用して交差断面を計算することを可能にします。

# 引数

  * `node`: mtg、または開始する特定のノード。
  * `var_name`: ノード内の交差断面属性名
  * `threshold_value`: 交差断面が再計算されるしきい値

`var_name`の代わりにパイプモデルを使用して。

  * `allow_missing=false`: `var_name`の欠損値を許可します。この場合、交差断面は

パイプモデルを使用して再計算されます。このオプションは、理由がわかっている場合にのみ使用してください。

# 詳細

ノードの交差断面は、各子サブツリーが持つ葉の数（*すなわち*端末ノード）に従って親から子へと分割されます。ただし、1つ以上の子が`:var_name > threshold_value`を持つ場合は除きます。この場合、共有される交差断面は親からこれらのノードのものを引いたもので、測定値をそのまま使用します。`:var_name <= threshold_value`の兄弟の交差断面は、通常通り葉の数を使用して共有されます。兄弟の`:var_name`が親の値よりも高い場合、ノードの交差断面は葉の数のみを使用して計算され、より大きくなるべきではありません。

# 注意事項

この関数を使用する際のいくつかのヒント：

  * ユーザーは、`allow_missing=true`でない限り、このバージョンの`pipe_model!`を呼び出す前に、mtg内のすべてのノードに対して`:var_name`に値があることを確認する必要があります。
  * 信頼できない値を持つノードは、`pipe_model!`が再計算できるようにしきい値よりも低い値に設定する必要があります。
