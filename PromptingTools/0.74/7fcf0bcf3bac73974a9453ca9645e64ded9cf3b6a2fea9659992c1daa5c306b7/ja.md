```
ai!"user_prompt"[model_alias] -> AIMessage
```

`ai!""`文字マクロは、AIモデルとの以前の会話を続けるために使用されます。

新しいユーザープロンプトを追跡された履歴の最後の会話に追加し（`PromptingTools.CONV_HISTORY`内）、全体の会話コンテキストに基づいて応答を生成します。以前の会話を確認したい場合は、`PromptingTools.CONV_HISTORY`を介してアクセスできます。これは、最大で`PromptingTools.MAX_HISTORY_LENGTH`の会話を保持します。

## 引数

  * `user_prompt` (String): 既存の会話に追加される新しい入力プロンプト。
  * `model_alias` (オプション、任意): 使用するAIモデルのモデルエイリアスを指定します（`MODEL_ALIASES`を参照）。提供されない場合は、デフォルトのモデルが使用されます。

## 戻り値

新しいユーザープロンプトに対応する`AIMessage`、全体の会話履歴を考慮します。

## 例

会話を続けるには：

```julia
# 通常通り会話を開始
ai"Say hi." 

# ... 応答を待ってからそれに反応：

# 会話を続ける（モデルを変更できることに注意、例えば、より強力なモデルにしてより良い回答を得るため）
ai!"What do you think about that?"gpt4t
# AIMessage("Considering our previous discussion, I think that...")
```

## 使用上の注意

  * このマクロは、進行中の会話のコンテキストを維持したいときに使用する必要があります（つまり、最後の`ai""`メッセージ）。
  * グローバルな会話履歴に自動的にアクセスし、更新します。
  * 会話履歴が見つからない場合は、アサーションエラーが発生し、代わりに`ai""`を使用して新しい会話を開始することを提案します。

## 重要

AIの応答の関連性と一貫性を維持するために、会話履歴が長すぎないことを確認してください。履歴の長さは`MAX_HISTORY_LENGTH`によって管理されています。
