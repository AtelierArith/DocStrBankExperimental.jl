`stages(data::Union{Matrix{Float64},Function}, z::Vector{Float64}; q::Number=NaN, R::Number=NaN, S::Number=NaN, updown::Bool=true, fig::Bool=true)`

`stages`は、液体分率xと蒸気分率yを関連付ける関数y = y(x)または液体と蒸気の分率のx-y行列、製品と供給の組成のベクトル、供給品質、塔の上部の再フラックス比、塔の下部の再フラックス比の2つのパラメータを考慮して、マッケイブ・ティーリー法を使用して蒸留塔の理論的な段数を計算します。

デフォルトでは、供給は供給段で飽和液体であり、q = 1です。

供給が供給段で飽和液体である場合、q = 1にリセットされます。

デフォルトでは、理論的な段数はストリッピングセクションからレクティファイングセクションまで計算され、updown = trueです。

updown = falseが指定された場合、理論的な段数はレクティファイングセクションからストリッピングセクションまで計算されます。

デフォルトでは、`stages`は解の概略図をプロットし、fig = trueです。

fig = falseが指定された場合、プロットは表示されません。

`stages`は、Juliaの`McCabeThiele`ツールボックスの主要な関数です。

関連情報: `refmin`, `qR2S`, `qS2R`, `RS2q`。

# 例

液体分率と蒸気分率を関連付ける行列が与えられた場合、蒸留塔の底から上までの理論的な段数を計算します。蒸留液の組成は88%、供給の組成は46%、塔の底製品の組成は11%、供給は供給段で44%の蒸気を含む液-蒸気平衡であり、塔の上部の再フラックス比は最小再フラックス比より70%高いとします。

```
data=[0.  0.;
      0.1 0.212;
      0.2 0.384;
      0.3 0.529;
      0.4 0.651;
      0.5 0.752;
      0.6 0.833;
      0.7 0.895;
      0.8 0.942;
      0.9 0.974;
      1.  1.];
x=[0.88;0.46;0.11];
r,s=refmin(data,x,q=1-0.44)
N=stages(data,x,q=1-0.44,R=1.70*r,updown=false,fig=false)
```

液体分率に基づいて蒸気分率を計算する関数が与えられた場合、蒸留塔の上から下までの理論的な段数を計算します。蒸留液の組成は88%、供給の組成は46%、塔の底製品の組成は11%、供給は供給段で飽和液体であり、塔の上部の再フラックス比は最小再フラックス比より70%高く、解の概略図をプロットします。

```
y(x)=x.^0.9 .* (1-x).^1.2 + x;
x=[0.88;0.46;0.11];
r,s=refmin(y,x,q=1)
N=stages(y,x,q=1,R=1.70*r)
```
