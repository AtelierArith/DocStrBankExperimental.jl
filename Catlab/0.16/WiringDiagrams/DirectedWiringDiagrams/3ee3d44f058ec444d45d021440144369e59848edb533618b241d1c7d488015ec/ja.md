セットボックスのワイヤリング図に対するエンキャプスレーティングボックスを作成します。

最初の近似として、与えられたボックスの入力ポートの和集合がエンキャプスレーティングボックスの入力ポートとなり、出力ポートについても同様です。ただし、直積や余直積のようにコピーやマージが発生する場合、簡略化手順によりエンキャプスレーティングボックスのポート数が減少することがあります。

具体的には：

1. エンキャプスレートされたボックスの各入力ポートには、エンキャプスレーティング外部ボックスからの最大1本の入力ワイヤーがあります。また、エンキャプスレートされたボックスの各出力ポートには、エンキャプスレーティング外部ボックスへの最大1本の出力ワイヤーがあります。
2. 同じ外部（非エンキャプスレート）ポートに接続されているポートのセットは、エンキャプスレーティングボックスの単一のポートに簡略化されます。

`induced_subdiagram`も参照してください。
