```
update!(o::Optimizer{<:BFGSOptimizer}, C, B)
```

BFGSã‚ªãƒ—ãƒ†ã‚£ãƒžã‚¤ã‚¶ã‚’ä½¿ç”¨ã—ã¦æ›´æ–°ã‚’è¡Œã„ã¾ã™ã€‚

`C`ã¯ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã§ã€`B`ã¯å‹¾é…æƒ…å ±ã‚’å«ã‚“ã§ã„ã¾ã™ï¼ˆä¸€èˆ¬çš„ã«ã¯[`global_rep`](@ref)ã®å‡ºåŠ›ã§ã™ï¼‰ã€‚

ã¾ãšã€*æœ€çµ‚é€Ÿåº¦*ã‚’æ¬¡ã®ã‚ˆã†ã«è¨ˆç®—ã—ã¾ã™ã€‚

```julia
vecS = -o.method.Î· * C.H * vec(B)
```

æ¬¡ã«ã€`H`ã‚’æ›´æ–°ã—ã¾ã™ã€‚

```julia
C.H .= (ð•€ - Ï * SY) * C.H * (ð•€ - Ï * SY') + Ï * vecS * vecS'
```

ã“ã“ã§ã€`SY`ã¯`vecS * Y'`ã§ã€`ð•€`ã¯å˜ä½è¡Œåˆ—ã§ã™ã€‚

# å®Ÿè£…

å®‰å®šæ€§ã®ãŸã‚ã«ã€`Ï`ã‚’è¨ˆç®—ã™ã‚‹ãŸã‚ã«`Î´`ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

```julia
Ï = 1. / (vecS' * Y + o.method.Î´)
```

ã“ã‚Œã¯[`AdamOptimizer`](@ref)ã«ä¼¼ã¦ã„ã¾ã™ã€‚

# æ‹¡å¼µãƒ˜ãƒ«ãƒ—

ã‚‚ã—[`Manifold`](@ref)ä¸Šã«é‡ã¿ãŒã‚ã‚‹å ´åˆã€æ›´æ–°ã¯å°‘ã—é›£ã—ããªã‚Šã¾ã™ã€‚ã“ã®å ´åˆã€[`vec`](@ref)æ“ä½œã¯å¯¾å¿œã™ã‚‹*ã‚°ãƒ­ãƒ¼ãƒãƒ«æŽ¥ç©ºé–“*ã«ä¸€èˆ¬åŒ–ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
