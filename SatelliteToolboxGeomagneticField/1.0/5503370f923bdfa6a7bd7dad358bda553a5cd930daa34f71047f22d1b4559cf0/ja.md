```
igrf(date::Number, <r, h>::T1, λ::T2, Ω::T3[, R]; kwargs...) where {T1<:Number, T2<:Number, T3<:Number} -> SVector{3, T}
```

**IGRFモデル**

*現在のバージョン: v13*

日付 `date` [西暦年] と位置（`r` または `h`, `λ`, `Ω`）における地磁気場ベクトル [nT] を計算します。

位置の表現は `R` によって定義されます。`R` が `Val(:geocentric)` の場合、入力は **地心座標** でなければなりません：

1. 地球中心からの距離 `r` [m];
2. 地心緯度 `λ` ∈ (-π / 2, +π / 2) [rad]; および
3. 地心経度 `Ω` ∈ (-π, +π) [rad].

`R` が `Val(:geodetic)` の場合、入力は **測地座標** でなければなりません：

1. 基準楕円体（WGS-84）上の高度 `h` [m];
2. 測地緯度 `λ` ∈ (-π/2, +π/2) [rad]; および
3. 測地経度 `Ω` ∈ (-π, +π) [rad].

`R` が省略された場合、デフォルトは `Val(:geocentric)` になります。

!!! warning
    `1900 <= date <= 2030` でなければなりません。2025年以降の日付については、出力がもはや信頼できないため、警告メッセージが表示されます。このメッセージは、キーワード `show_warnings` を `false` に設定することで抑制できます。


!!! info
    出力ベクトルは、パラメータ `R` によって選択された同じ基準系（地心または測地）で表されます。出力基準系のY軸は常に東を指します。**地心座標** の場合、Z軸は地球の中心を指し、X軸は右手系の座標系を完成させます。**測地座標** の場合、X軸は選択された位置で楕円体に接し、北を指し、Z軸は右手系の座標系を完成させます。


# キーワード

  * `max_degree::Int`: 地磁気場を計算する際に球面調和関数で使用される最大次数。IGRF行列に利用可能な係数の数を超える場合、制限されます。0以下の場合は1に設定されます。   (**デフォルト** = 13)
  * `show_warnings::Bool`: データに関する警告を表示します。   (**デフォルト** = `true`)
  * `P::Union{Nothing, AbstractMatrix}`: レジェンドル係数を格納するために使用される、少なくとも `max_degree + 1 × max_degree + 1` の実数を含む必要があるオプションの行列。`nothing` の場合、関数呼び出し時に行列が作成されます。   (**デフォルト** = `nothing`)
  * `dP::Union{Nothing, AbstractMatrix}`: レジェンドル導関数係数を格納するために使用される、少なくとも `max_degree + 1 × max_degree + 1` の実数を含む必要があるオプションの行列。`nothing` の場合、関数呼び出し時に行列が作成されます。   (**デフォルト** = `nothing`)

# 戻り値

  * `SVector{3, T}`: 希望する位置における地磁気場ベクトル [nT] で、同じ入力基準（地心または測地）で表されます。

!!! info
    出力型 `T` は、`T1`, `T2`, および `T3` を浮動小数点数に昇格させることによって得られます。


```
