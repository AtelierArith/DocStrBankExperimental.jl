```
makedemos(source::String;
          root = "<current-directory>",
          src = "src",
          build = "build",
          branch = "gh-pages",
          edit_branch = "master",
          credit = true,
          throw_error = false) -> page_path, postprocess_cb
```

Make a demo page for `source` and return the path to the generated index file.

Processing pipeline:

1. analyze the folder structure `source` and loading all available configs.
2. copy assets
3. preprocess demo files and save it
4. save/copy cover images
5. generate postprocess callback function, which includes url-redirection.

!!! warning
    By default, `makedemos` generates all the necessary files to `docs/src/`, this means that the data you pass to `makedemos` should not be placed at `docs/src/`. A recommendation is to put folders in `docs/`. For example, `docs/quickstart` is a good choice.


# Inputs

  * `source`: dir path to the root page of your demos; relative to `docs`.

# Outputs

  * `page_path`: path to demo page's index. You can directly pass it to `makedocs`.
  * `postprocess_cb`: callback function for postprocess. You can call `postprocess_cb()` *after* `makedocs`.
  * `theme_assets`: the stylesheet assets that you may need to pass to `Documenter.HTML`. When the demo page has no theme, it will return `nothing`.

# Keywords

  * `root::String`: should be equal to `Documenter`'s setting. Typically it is `"docs"` if this function is called in `docs/make.jl` file.
  * `src::String`: should be equal to `Documenter`'s setting. By default it's `"src"`.
  * `build::String`: should be equal to `Documenter`'s setting. By default it's `"build"`.
  * `edit_branch::String`: should be equal to `Documenter`'s setting. By default it's `"master"`.
  * `branch::String`: should be equal to `Documenter`'s setting. By default it's `"gh-pages"`.
  * `credit::Bool`: `true` to show a "This page is generated by ..." info. By default it's `true`.
  * `throw_error::Bool`: `true` to throw an error when the julia demo build fails; otherwise it will continue the build with warnings.
  * `filter_function::Function`: the function is passed each potential `DemoCard`, and the card is excluded if the function returns false. By default, all potential cards are included.

# Examples

The following is the simplest example for you to start with:

```julia
# 1. preprocess and generate demo files to docs/src
examples, postprocess_cb, demo_assets = makedemos("examples")

assets = []
isnothing(demo_assets) || (push!(assets, demo_assets))

# 2. do the standard Documenter pipeline
makedocs(format = Documenter.HTML(assets = assets),
         pages = [
             "Home" => "index.md",
             examples
         ])

# 3. postprocess after makedocs
postprocess_cb()
```

By default, it won't generate the index page for your demos. To enable it and configure how index page is generated, you need to create "examples/config.json", whose contents should looks like the following:

```json
{
    "theme": "grid",
    "order": [
        "basic",
        "advanced"
    ]
}
```

For more details of how `config.json` is configured, please check [`DemoCards.DemoPage`](@ref).
