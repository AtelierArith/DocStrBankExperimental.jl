```
rqa(R; kwargs...)
```

再帰行列 `R` のすべての RQA パラメータを計算します。異なるパラメータの定義と引数のデフォルト値については、以下の関数を参照してください。この関数を使用することは、個々の関数を一つずつ呼び出すよりもはるかに効率的です。

## 返り値

返される値には、辞書から取得できる以下のエントリが含まれています（例: `results[:RR]` など）：

  * `:RR`: 再帰率 (参照: [`recurrencerate`](@ref))
  * `:DET`: 決定性 (参照: [`determinism`](@ref))
  * `:L`: 対角構造の平均長 (参照: [`dl_average`](@ref))
  * `:Lmax`: 対角構造の最大長 (参照: [`dl_max`](@ref))
  * `:DIV`: 発散 (参照: [`divergence`](@ref))
  * `:ENTR`: 対角構造のエントロピー (参照: [`dl_entropy`](@ref))
  * `:TREND`: 再帰の傾向 (参照: [`trend`](@ref))
  * `:LAM`: 層状性 (参照: [`laminarity`](@ref))
  * `:TT`: 捕獲時間 (参照: [`trappingtime`](@ref))
  * `:Vmax`: 垂直構造の最大長 (参照: [`vl_max`](@ref))
  * `:VENTR`: 垂直構造のエントロピー (参照: [`vl_entropy`](@ref))
  * `:MRT`: 平均再帰時間 (参照: [`meanrecurrencetime`](@ref))
  * `:RTE`: 再帰時間エントロピー (参照: [`rt_entropy`](@ref))
  * `:NMPRT`: 最も確率の高い再帰時間の数 (参照: [`nmprt`](@ref))

`rqa` によって返されるすべてのパラメータは `Float64` 数値であり、`:Lmax`、`:Vmax`、`:NMPRT` のような整数値のパラメータでも同様です。空のヒストグラム（例: キーワード `lminvert` よりも小さい垂直線が存在しない場合）の場合、平均値と最大値（`:L`、`:Lmax`、`:TT`、`:Vmax`、`:MRT`）は `0.0` として返されますが、それぞれのエントロピー（`:ENTR`、`:VENTR`、`:RTE`）は `NaN` として返されます。

## キーワード引数

標準のキーワード引数は、以下にリストされている関数が受け入れる引数、すなわち `theiler`、`lmin`、および `border` です：

  * `theiler` は、中央の対角線または「同一線」（LOI）の周りの「ザイラーウィンドウ」を定義するために使用されます：再帰パラメータの計算において除外される点の領域であり、自己再帰や滑らかまたは高解像度データの明らかな再帰を除外するために使用されます。LOI は、`RecurrenceMatrix` または `JointRecurrenceMatrix` のタイプの行列に対してはデフォルトで除外されますが、`CrossRecurrenceMatrix` のタイプの行列に対しては含まれます。`theiler=0` は、行列全体が線のためにスキャンされることを意味します。`theiler=1` は、LOI が除外されることを意味します。一般に、`theiler=n` は、`n` の中央対角線が除外されることを意味します（LOI の両側で、実際には `2n-1` の対角線が除外されます）。
  * `lmin` は、対角線または垂直線の分布を記述するパラメータにおける最小線長を定義するために使用されます（デフォルトでは 2 に設定されています）。
  * `border` は、`:TREND` の計算における境界効果を回避するために使用されます（参照: [`trend`](@ref)）。

さらに、`theilerdiag`、`lmindiag` を使用して、対角構造に関連するパラメータの計算において `theiler` と `lmin` の値を上書きする特定の値を宣言することができます。同様に、`theilervert` と `lminvert` は、垂直構造に関連するパラメータの計算に使用できます。

キーワード引数 `onlydiagonal`（デフォルトは `false`）は、再帰率と対角構造に関連するパラメータ（`:RR`、`:DET`、`:L`、`:Lmax`、`:DIV`、`:ENTR`）に分析を制限するために `true` に設定できます。これにより、この関数はわずかに高速になります。

## 返される型に関する移行ノート

古いバージョンでは、`rqa` 関数は `NamedTuple` を返していましたが、将来のバージョンでは代わりに `Dict` を返す予定です。どちらの場合も、結果は角括弧と `Symbol` キーでインデックス付けできます（例: `result[:RR]`、`result[:DET]` など）。ただし、名前付きタプルは「ドット構文」でインデックス付けすることもできます（例: `result.RR`）、これは辞書では不可能であり、これらの2つの型のインデックス付けや反復には他の違いがあります。

バージョン間の移行を容易にするために、この関数は現在、基本的に辞書として機能する `RQA` オブジェクトを返しますが、ドット構文でもインデックス付けできます（非推奨警告をログに記録します）。返される型は、異なるバージョンの出力を再現するために `rqa` の最初の引数として指定することもできます：

  * `rqa(NamedTuple, R...)` は、古いバージョンの出力を取得します（1.3 のように）。
  * `rqa(Dict, R...)` は、将来のバージョンの出力を取得します。
  * `rqa(RQA, R...)` は、デフォルトの現在の出力を取得します（`rqa(R...)` と同じ）。
  * `rqa(DT,R...)` は、`AbstractDict` のサブタイプである `DT` として出力を取得します（例: `rqa(OrderedDict,R...)` は `OrderedDict` を返します）。
